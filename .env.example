# GWI POS Environment Variables
# Copy this file to .env.local and fill in your values

# ============================================
# DATABASE (PostgreSQL on Neon — required)
# ============================================
# Pooler connection (for app queries, serverless-friendly)
DATABASE_URL="postgresql://user:password@host-pooler.region.aws.neon.tech/gwi_pos?sslmode=require"
# Direct connection (for schema migrations only)
DIRECT_URL="postgresql://user:password@host.region.aws.neon.tech/gwi_pos?sslmode=require"

# ============================================
# REAL-TIME EVENTS (Socket.io)
# ============================================
# "socket" enables Socket.io via custom server.ts (local dev / Docker)
# Omit or leave empty for Vercel (serverless, no Socket.io)
NEXT_PUBLIC_EVENT_PROVIDER="socket"

# Socket connection URLs (defaults to localhost:3000 if not set)
# NEXT_PUBLIC_SOCKET_URL="http://localhost:3000"
# SOCKET_SERVER_URL="http://localhost:3000"

# API secret for socket broadcast route protection
# INTERNAL_API_SECRET="change-this-in-production"

# ============================================
# MISSION CONTROL INTEGRATION
# ============================================
# Shared secret between POS and Mission Control
# Used for: JWT signing (cloud auth), provision API auth
# Must match PROVISION_API_KEY in Mission Control
# PROVISION_API_KEY=""

# Mission Control dashboard URL (for cloud admin redirects)
# MISSION_CONTROL_URL="https://app.thepasspos.com"

# ============================================
# SMS & EMAIL ALERTS
# ============================================

# Twilio (for SMS remote void approval + alerts)
# TWILIO_ACCOUNT_SID=""
# TWILIO_AUTH_TOKEN=""
# TWILIO_FROM_NUMBER=""
# TWILIO_TO_NUMBER=""

# Email alerts (via Resend)
# RESEND_API_KEY=""
# EMAIL_FROM="noreply@gwipos.com"
# EMAIL_TO="alerts@example.com"

# Slack alerts
# SLACK_WEBHOOK_URL=""

# ============================================
# OPTIONAL
# ============================================

# App base URL (defaults to http://localhost:3000)
# NEXT_PUBLIC_BASE_URL="http://localhost:3000"

# Stripe (for card payments — future)
# STRIPE_PUBLIC_KEY=""
# STRIPE_SECRET_KEY=""

# ============================================
# Cloud Backoffice Integration (NUC → Cloud event pipeline)
# Set automatically by installer.run on production NUCs.
# For local dev, point to your local Java backoffice.
# ============================================
# BACKOFFICE_API_URL="http://localhost:8080"
# SERVER_API_KEY="dev-secret"
# SERVER_NODE_ID="dev-nuc-1"

# ─── WebSocket Process Separation ───
# Set to "true" to run Socket.io in a standalone process (ws-server.ts)
# WS_STANDALONE=true
# WS_SERVER_URL=http://localhost:3001
# NEXT_PUBLIC_WS_URL=http://localhost:3001
# SOCKET_PATH=/ws
# WS_PORT=3001
