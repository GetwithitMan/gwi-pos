API OperationsThe following API operations are currently supported:ProcessEMVTransactionLocal CommunicationServer CommunicationMethodPOSTEndpointhttp://local IP address of DC Direct hardware/ProcessEMVTransaction/HeadersContent-Type: application/xmlAuthorization: NoneUseTo process EMV transaction requests. This operation is for processing all credit and debit cards as EMV transactions. This also includes administrative requests.FormatXML, as specified in Content-Type HTTP header.ReturnsXML formatted string response of type RStream.Port80 for Ingenico devices, 8080 for Pax devices+ Certification/test endpoint^ Production endpoint++ Basic authorization is in the form: Authorization: Basic <credentials>, where <credentials> is the Base64 encoding of ID and password joined by a single colon :Note: Code examples show both XML and JSON requests / responses. JSON can only be used if communicating with DC Direct via Server communication.Lookup (Server Communication)ElementDefinitionMethodGETEndpointhttps://trancloud.dsipscs.com/Lookup/ParametersFormat: XML or JSON (defaults to XML or Content-Type header if given)Count: the number of previous responses up to 10 (defaults to 1)HeadersAuthorization: BasicTranDeviceID: Usually given as an element inside request body, but can also be given as header.UseTo lookup previous transaction responses. This includes all requests that have reached the DC Direct device and received a response, so responses such as ‘In Process with Device’ or ‘Device Not Found’ are not included. Currently up to 10 responses are stored for each unique set of user credentials and device ID, each for 2 hours based on the time of completion; these values may change.ReturnsXML or JSON formatted string, based on ‘format’ parameter or Content-Type HTTP header. The parent element is LookupResponse and contains subelements Previous1, Previous2, etc. in descending order by completion time. Each of these elements then contains the RStream element of the transaction response.? xml? json?<?xml version="1.0" encoding="UTF-8"?><LookupResponse>    <Previous1>        <RStream>            <CmdStatus>Success</CmdStatus>            <DSIXReturnCode>000000</DSIXReturnCode>            <ResponseOrigin>Client</ResponseOrigin>            <SequenceNo>0010010010</SequenceNo>            <TextResponse>Reset Successful.</TextResponse>            <UserTrace>xmlreq_1006</UserTrace>        </RStream>    </Previous1>    <Previous2>        <RStream>             <ResponseOrigin>Processor</ResponseOrigin>             <DSIXReturnCode>000000</DSIXReturnCode>             <CmdStatus>Success</CmdStatus>             <TextResponse>SUCCESS</TextResponse>             <SequenceNo>0010010010</SequenceNo>             <UserTrace>Test</UserTrace>             <TranCode>EMVParamDownload</TranCode>        </RStream>    </Previous2></LookupResponse>?EMV Transactions and Operations Supported by DC DirectCredit/Debit TransactionsOperationDefinitionSupported byEMVPadResetThis command must be performed after every monetary transaction (Sale, VoidSale, Return, VoidReturn, VoiceAuth, ZeroAuth, etc) to assure that no card remains in the PIN pad chip reader. If no card is in the reader, then a response should be returned in 2-3 seconds. If there’s a card in the reader, the PIN pad displays ‘Remove Card’ and waits for the card to be removed before returning a response.Credit or DebitEMVSaleEMV Sale transaction.Credit or DebitEMVSaleWithSplitEMV Sale with Split Fee FundingCredit or DebitSaleByRecordNoProcess an EMV Sale transaction without a card present.CreditVoidSaleByRecordNoVoid of a previously completed EMV Sale transaction using transaction reference identifier(s).CreditEMVPreAuthPreauthorize a credit card which must be subsequently captured for settlement.CreditPreAuthByRecordNoTo preauthorize a credit card using a processor supplied multi-use tokenCreditEMVReturnEMV Return transaction.Credit or DebitReturnByRecordNoProcess an EMV Return transaction without a card present.CreditVoidReturnByRecordNoVoid of a previously completed EMV Return transaction using transaction reference identifier(s).CreditEMVVoiceAuthCapture a transaction that was authorized by voice into the current batch.CreditEMVZeroAuthVerify a card is valid without charging any amount.CreditAdjustByRecordNoAdjust the gratuity amount on a previously processed EMVSale or EMVVoiceAuth transaction.CreditPreAuthCaptureByRecordNoAdd a gratuity to a previously processed EMVPreAuth transaction and capture the transaction to the current batch.CreditIncrementalAuthByRecordNoTo increase the authorized amount of a previous PreAuth transactionCreditPartialReversalByRecordNoTo decrease the authorized amount of a previous PreAuth transaction.CreditVoidByInvoiceNoTo void the authorized amount of a previous sale transaction.CreditPrePaidOperationDefinitionPrePaid EMVIssueIssue a new prepaid (stored value) card with a starting balance (value).PrePaid EMVVoidIssueVoid the previous issue a new prepaid (stored value) card with a starting balance (value).PrePaid EMVSaleProcess a payment (purchase) using a prepaid card. PrePaid sales reduce the available balance (value) of the account (card).PrePaid EMVVoidSaleVoid a previous a payment (purchase) on a prepaid card. PrePaid void sales increase the available balance (value) of the account (card).PrePaid SaleByRecordNoProcess a PrePaid EMV Sale transaction without a card present.PrePaid VoidSaleByRecordNoVoid of a previously completed PrePaid EMV Sale transaction using transaction reference identifier(s).PrePaid EMVReturnProcess a return (refund) using a prepaid card. PrePaid returns increase the available balance (value) of the account (card).PrePaid EMVVoidReturnVoid a previous a return (refund) on a prepaid card. PrePaid void returns decrease the available balance (value) of the account (card).PrePaid EMVCashOutProcess a cash refund of the remaining balance on a prepaid card. A CashOut reduces the available balance (value) of the account (card) to zero.PrePaid EMVBalanceFind the remaining balance (value) on a prepaid card.EBTOperationDefinitionEBT Foodstamp EMVSaleProcess a Foodstamp payment on an EBT card. Foodstamp EBT sales require the input of a PIN (Personal Identification Number) by the cardholder into a PIN pad device which encrypts the PIN number for secure transmission to the bank’s computer for validation.EBT Foodstamp EMVReturnProcess a Foodstamp return (refund) on an EBT card. Foodstamp EBT returns require the input of a PIN (Personal Identification Number) by the cardholder into a PIN pad device which encrypts the PIN number for secure transmission to the bank’s computer for validation.EBT Foodstamp EMVBalanceProcess a foodstamp balance inquiry on an EBT card. Foodstamp EBT balance inquiries require the input of a PIN (Personal Identification Number) by the cardholder into a PIN pad device which encrypts the PIN number for secure transmission to the bank’s computer for validation.EBT Foodstamp EMVVoucherProcess a Foodstamp voucher payment. The AcctNo, ExpDate, AuthCode and VoucherNo data must be supplied from the printed voucher.EBT Cash EMVSaleProcess a cash payment on an EBT card. Cash EBT sales require the input of a PIN (Personal Identification Number) by the cardholder into a PIN pad device which encrypts the PIN number for secure transmission to the bank’s computer for validation.EBT Cash EMVBalanceProcess a cash balance inquiry on an EBT card. EBT cash balance inquiries require the input of a PIN (Personal Identification Number) by the cardholder into a PIN pad device which encrypts the PIN number for secure transmission to the bank’s computer for validation.eWICOperationDefinitioneWIC BalanceThe eWIC Balance is processed to get the balance for customer’s card on demand from eWIC processor.eWIC BalancePreValThe eWIC BalancePreVal is processed prior to an eWIC Sale to get the customer’s prescription from the eWIC processor.eWIC SaleThe eWIC Sale transaction is used to process payment for an included list of eWIC eligible items.eWIC VoidSaleThe eWIC VoidSale transaction is used to process a refund (return) for a previously completed eWIC Sale transaction.eWIC VoucherTo process a eWIC Voucher payment. The AcctNo must be manually input on PIN pad and the AuthCode and VoucherNo data must be supplied from the printed voucher.FSAOperationDefinitionFSA EMVSaleProcess a payment on a Flexible Spending Account credit card.FSA EMVVoidSaleVoid (reverse) a previously completed sale (payment) transaction in the current batch on a Flexible Spending Account credit card.AdminOperationDefinitionEMVParamDownloadTo download required parameters and security information for an EMV PIN pad.BatchSummaryRetrieves current batch summary information (overall counts and net amount; optionally totals by card type).BatchCloseTo close the currently open batch.OtherOperationDefinitionPrintReceiptPrint a receipt on PIN pad devices which support this feature. (Currently the Ingenico Move/3500, Ingenico Move/5000, Ingenico Desk/3500, Ingenico Desk/5000, PAX A920Pro).GetYesNoCustom two choice prompt on pad.GetMultipleChoiceCustom multi choice prompt, max 6 choices.GetSuggestiveTipGratuity multiple choice prompt, max 6 choices.GetSignatureGet a digitized signature from a signature capture capable PIN pad.GetPhoneNumberTo obtain a customer’s phone number using the attached PIN pad.GetIDTo obtain a customer’s ID number using the attached PIN pad.SetTermsTo set terms and conditions on a signature capture PIN Pad.DisplayTermsTo display terms and conditions on a signature capture PIN pad for customers to accept or decline.DisplayOnDeviceTo display text on connected PIN pad.GetGenericAmountTo obtain an amount outside of a normal transaction flow.GetManualTipTo obtain a manual tip outside of the suggestive tip prompt flow.GetZipCodeTo obtain the zip code for the cardholder’s credit card using the attached PIN pad.DisplayQRCodeUsed to display a QR Code to the pinpad with optional yes/no buttons for responding to a prompt.Additional Use CasesOperationDefinitionPayment Fee SuiteDC Direct supports Datacap’s Payment Fee Suite (Compliant Surcharge with Lookup, Dual or multi-pricing, and Convenience Fee / Split fee funding)CardholderIDCardholderID allows ISVs to track unique cardholders across their entire merchant base for data aggregation and proactive marketing.SuggestiveTipPromptDC Direct supports Sugggestive Tip Prompting on select supported PIN pads.Custom Amount FormatOn Android devices, DC Direct supports the <CustomAmountFormat> field, which allows integrators to display a custom message to the cardholder on the “collect card data” form screen.Custom FormsDC Direct supports customs forms, so integrators can develop/design their own forms packages on Android devices.Parking IN/OUTDC Direct Android supports a method to uniquely identify a customer’s payment card, allowing the POS to determine when the customer is entering and exiting a parking lot or garage. Datacap’s control combines and hashes the unencrypted parts of the payment card, and provides them back to the POS as a base-64 encoded string.Stored Credential On FileIdeal for situations of recurring payments and installment payments. By using COF, the merchant and POS avoid storing card data for recurring transactions, and maintain compliance with the card brands.Important: Support for any particular transaction code depends on the processing host’s support of that transaction.