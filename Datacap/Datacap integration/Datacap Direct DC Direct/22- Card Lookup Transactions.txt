Card Lookup TransactionsSupport for Card Lookup transactions was added in DC Direct Android 1.25.Card LookupTo get a definition of capabilities of a card by its account number. (See notes).Note: BIN Range verification is not required to perform payment transactions for credit cards – any card may be submitted for payment authorization – however the merchant may incur charges unnecessarily for indiscriminant processing. Integrators should implement support for the BIN Lookup function to determine what the compatibilities and capabilities of a particular card are before submitting a payment processing transaction request.Important Integration Note: Not all versions of DC Direct provide BIN Lookup support – your integration should attempt BIN Lookup but continue with normal transaction processing in the event that the BIN Lookup fails.Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 104<?xml version="1.0"?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <TranCode>CardLookup</TranCode>        <SequenceNo>0010010010</SequenceNo>        <InvoiceNo>001</InvoiceNo>        <RefNo>001</RefNo>        <Account>            <AcctNo>Prompt</AcctNo>        </Account>    </Transaction></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.TranCode(String 1-40 chars)RequiredTranCode value supplied in the transaction request.InvoiceNo(Number 1-8 chars)The invoice number supplied in the transaction request.RefNo(String 1-50 chars)Reference numberSequenceNo(String 10-12 chars)RequiredThe sequence number returned in all responses to be used on the next request. If the SequenceNo is lost or initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.Account:AcctNo(String 1-19 chars)RequiredTo use the attached SecureDevice for MSR input of cardholder data, use value ‘SecureDevice’To use the PC keyboard or attached SecureDevice for manual input of cardholder data, use value ‘Prompt’.Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>    <ResponseOrigin>DSILogicEngine</ResponseOrigin>    <DSIXReturnCode>000000</DSIXReturnCode>    <CmdStatus>Approved</CmdStatus>    <TextResponse>SUCCESSFUL LOOKUP</TextResponse>    <SequenceNo>0010010010</SequenceNo>    <MerchantID>DEMODCHALGP</MerchantID>    <ExpDate>1231</ExpDate>    <CardUsage>OTHER</CardUsage>    <ExtendedCardInfo>Credit,HSA</ExtendedCardInfo>    <CardType>VISA</CardType>    <TranType>CardLookup</TranType>    <TranCode>CardLookup</TranCode>    <RecordNo>DC4:AQFKhOeXPpcnFdmUHsBxnYX3ZhvrlNJgE46hA-zGIxtJH8qwypKr2ALXRO3-1oNZ7OnwYNYhk5ycncmpgN-MlCtbyepd_Goy8zhYkygwJcsi4e8qyBXzXNHW1dT-ZkLx9Y5HwAuLDUIu0wq2YEgUvsJw</RecordNo>    <AcctNo>476173XXXXXX0043</AcctNo>    <PayAPI_Id>q-35KuCrqZIOlllYmxWXN1eIRi3j7</PayAPI_Id>    <UserTrace /></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Client” = generated by DSIClientX control“Server” = generated by Datacap server“Processor” = generated by payment processorDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code which identifies the error type.CmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Success” = command completed successfully“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on errorTextResponse(String 1-255 chars)RequiredThis field contains an optional message from the server or processor.UserTraceData(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestSequenceNo(Number 1-20 chars)Transaction sequence number (included in Canadian Debit transaction responses)UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestMerchantID(String 1-24 chars)Merchant identification assigned by processor.ExpDate(Number 4-4 chars)Expiration date as MMYYCardUsage(String 4-20 chars)Required“FSA”, “DEBIT”, “OTHER”ExtendedCardInfo(String 3-100 chars)Returns comma separated indicators based on type of card. Values include CheckCard, Credit, Debit, Commercial, Fleet, PrePaid, HSA, PINlessBillPay, EBT, WIC or FSA.CardType(String 3-20 chars)RequiredCard type used on transaction (e.g. VISA, M/C, AMEX, etc)TranType(String 1-20 chars)RequiredUsed with the TranCode to specify payment type.RecordNo(String 1-256 chars)Returned when optional <RecordNo> tag used in a request. This value must be retained for use in a subsequent AdjustByRecordNo request.AcctNo(String 1-24 chars)The account number from the card used for a manually entered transaction – will be truncated.PayAPI_Id(String 1-34 chars)The Pay API reference number to be used through Pay API for follow up transactions.CardLookupByRecordNoTo get a definition of capabilities of a card by its record number.Note: BIN Range verification is not required to perform payment transactions for credit cards – any card may be submitted for payment authorization – however the merchant may incur charges unnecessarily for indiscriminant processing. Integrators should implement support for the BIN Lookup function to determine what the compatibilities and capabilities of a particular card are before submitting a payment processing transaction request.Important Integration Note: Not all versions of DC Direct provide BIN Lookup support – your integration should attempt BIN Lookup but continue with normal transaction processing in the event that the BIN Lookup fails. The tables in the last chapter of this document indicate which versions of DC Direct support BIN Lookup.Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 182<?xml version="1.0"?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <TranCode>CardLookupByRecordNo</TranCode>        <TranType>CardLookup</TranType>        <InvoiceNo>001</InvoiceNo>        <RefNo>001</RefNo>        <SequenceNo>0010010010</SequenceNo>        <RecordNo>DC4:AQFKhOeXPpcnFdmUHsBxnYX3ZhvrlNJgE46hA-zGIxtJH8qwypKr2ALXRO3-1oNZ7OnwYNYhk5ycncmpgN-MlCtbyepd_Goy8zhYkygwJcsi4e8qyBXzXNHW1dT-ZkLx9Y5HwAuLDUIu0wq2YEgUvsJw</RecordNo>    </Transaction></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.TranCode(String 1-40 chars)RequiredTranCode value supplied in the transaction request.TranType(String 1-20 chars)RequiredUsed with the TranCode to specify payment type.InvoiceNo(Number 1-8 chars)The invoice number supplied in the transaction request.RefNo(String 1-50 chars)Reference numberSequenceNo(String 10-12 chars)RequiredThe sequence number returned in all responses to be used on the next request. If the SequenceNo is lost or initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.RecordNo(String 1-256 chars)RequiredTo perform a “ByRecordNo” transaction, use the <RecordNo> value obtained in the response to a previous transaction that included a token request.Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>    <ResponseOrigin>DSILogicEngine</ResponseOrigin>    <DSIXReturnCode>000000</DSIXReturnCode>    <CmdStatus>Approved</CmdStatus>    <TextResponse>SUCCESSFUL LOOKUP</TextResponse>    <SequenceNo>0010010010</SequenceNo>    <MerchantID>HUNTECHAL0GP</MerchantID>    <AccountNo>476173XXXXXX0043</AccountNo>    <ExpDate>1231</ExpDate>    <CardUsage>OTHER</CardUsage>    <ExtendedCardInfo>Credit,HSA</ExtendedCardInfo>    <CardType>VISA</CardType>    <TranType>CardLookup</TranType>    <TranCode>CardLookup</TranCode>    <RecordNo>DC4:AQHLvGoBb9IOw6owKy9iw1MAlg1Ke-u4BXQ1PqGFdjxZsf22ZLvCFmfwzL3hS8P8rycgfMfA9Z7GkOL6lbCHpim-OfT5IvUvfA_dmFxD4HbwERxHbJL9KIzvMfDkw_vDzbHILpaH8zXHsgxL6s6W9d8h</RecordNo>    <PayAPI_Id>q-35QY8UHRqVEWQU4WNyxcn2ZxWJ5</PayAPI_Id>    <UserTrace /></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Client” = generated by DSIClientX control“Server” = generated by Datacap server“Processor” = generated by payment processorDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code which identifies the error type.CmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Success” = command completed successfully“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on errorTextResponse(String 1-255 chars)RequiredThis field contains an optional message from the server or processor.UserTraceData(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestSequenceNo(Number 1-20 chars)Transaction sequence number (included in Canadian Debit transaction responses)UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestMerchantID(String 1-24 chars)Merchant identification assigned by processor.AcctNo(String 1-24 chars)The account number from the card used for a manually entered transaction – will be truncated.ExpDate(Number 4-4 chars)Expiration date as MMYYCardUsage(String 4-20 chars)Required“FSA”, “DEBIT”, “OTHER”ExtendedCardInfo(String 3-100 chars)Returns comma separated indicators based on type of card. Values include CheckCard, Credit, Debit, Commercial, Fleet, PrePaid, HSA, PINlessBillPay, EBT, WIC or FSA.CardType(String 3-20 chars)RequiredCard type used on transaction (e.g. VISA, M/C, AMEX, etc)TranType(String 1-20 chars)RequiredUsed with the TranCode to specify payment type.RecordNo(String 1-256 chars)Returned when optional <RecordNo> tag used in a request. This value must be retained for use in a subsequent AdjustByRecordNo request.PayAPI_Id(String 1-34 chars)The Pay API reference number to be used through Pay API for follow up transactions.