Administrative TransactionsEMVParamDownloadTo download required parameters and security information for an EMV PIN pad.Implementation Notes:1. An EMVParamDownload must be performed when a PIN pad is first installed/replaced or if the Datacap file build is modified in a way that would affect the PIN pad (i.e. EMV support options or CVM settings)If CmdStatus response is SuccessParameter download completed successfullyErrorParameter download was not successful due to some error. See Errors for error codes. Parameter download should be attempted again until successful.Sample Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 204<?xml version="1.0"?><TStream>    <Admin>        <MerchantID>DEMODCHALGP</MerchantID>        <POSPackageID>EMVUSClient:1.26</POSPackageID>        <SecureDevice>CloudEMV2</SecureDevice>        <OperatorID>TEST</OperatorID>        <UserTrace>Test</UserTrace>        <TranCode>EMVParamDownload</TranCode>        <SequenceNo>0010010010</SequenceNo>        <TranDeviceID>123456789098765432101234</TranDeviceID>    </Admin></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.POSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”). Ex: EMVUSClient:1.26SecureDevice(String 1-40 chars)“CloudEMV2”OperatorID(String 1-24 chars)Operator (clerk, server, etc.) associated with the transaction.UserTrace(String 1-24 chars)A unique value created and supplied by POS systemTranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return ,void, etc)SequenceNo(String 1-20 chars)RequiredUse the value returned for SequenceNo from the last response. If the SequenceNo is lost or for initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.TranDeviceID(String 10-24 chars)ConditionalThe serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Sample Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>    <ResponseOrigin>Processor</ResponseOrigin>    <DSIXReturnCode>000000</DSIXReturnCode>    <CmdStatus>Success</CmdStatus>    <TextResponse>SUCCESS</TextResponse>    <SequenceNo>0010010010</SequenceNo>    <UserTrace>Test</UserTrace>    <TranCode>EMVParamDownload</TranCode>    <PayAPI_Id>q-25316D09744F4055A353C76B84A72E89</PayAPI_Id></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Client” = generated by DC Direct application“DCDirect” = generated by DC Direct application“Server” = generated by Datacap server“Processor” = generated by payment processorDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code that identifies the error type. See Errors on error codes for possible values.CmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor. For other response codes, see Errors on Error Codes for values.SequenceNo(Number 1-20 chars)RequiredThe sequence number returned in all responses to be used on the next request. If the SequenceNo is lost or initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestTranCode(String 1-40 chars)RequiredTranCode value supplied in the transaction request.PayAPI_Id(String 1-34 chars)The Pay API reference number to be used through Pay API for follow up transactions.BatchSummaryRetrieves current batch summary information (totals and counts by card type).Implementation Notes:1. Retain tags and values returned in the BatchSummary response enclosed between the BatchSummary tags for use in the BatchClose command.2. <TranCode> should be set to BatchSummary3. <TranType> should be set to AdministrativeSample Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 229<?xml version="1.0"?><TStream>    <Admin>        <MerchantID>DEMODCHALGP</MerchantID>        <POSPackageID>EMVUSClient:1.26</POSPackageID>        <SecureDevice>CloudEMV2</SecureDevice>        <OperatorID>TEST</OperatorID>        <UserTrace>Test</UserTrace>        <TranType>Administrative</TranType>        <TranCode>BatchSummary</TranCode>        <SequenceNo>0010010010</SequenceNo>        <TranDeviceID>123456789098765432101234</TranDeviceID>    </Admin></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.POSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”). Ex: EMVUSClient:1.26SecureDevice(String 1-40 chars)“CloudEMV2”OperatorID(String 1-24 chars)Operator (clerk, server, etc.) associated with the transaction.UserTrace(String 1-24 chars)A unique value created and supplied by POS systemTranType(String 1-40 chars)RequiredUsed with the TranCode to specify payment type.TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return ,void, etc)SequenceNo(String 1-20 chars)RequiredUse the value returned for SequenceNo from the last response. If the SequenceNo is lost or for initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.TranDeviceID(String 10-24 chars)The serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Sample Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>    <ResponseOrigin>Processor</ResponseOrigin>    <DSIXReturnCode>000000</DSIXReturnCode>    <CmdStatus>Success</CmdStatus>    <TextResponse>OK</TextResponse>    <SequenceNo>0010010010</SequenceNo>    <UserTrace>Test</UserTrace>    <MerchantID>DEMODCHALGP</MerchantID>    <PayAPI_Id>q-25316D09744F4055A353C76B84A72E89</PayAPI_Id>    <OperatorID>TEST</OperatorID>    <BatchNo>0099</BatchNo>    <BatchItemCount>4</BatchItemCount>    <NetBatchTotal>32.32</NetBatchTotal>    <CreditPurchaseCount>4</CreditPurchaseCount>    <CreditPurchaseAmount>32.32</CreditPurchaseAmount>    <CreditReturnCount>0</CreditReturnCount>    <CreditReturnAmount>0.00</CreditReturnAmount>    <DebitPurchaseCount>0</DebitPurchaseCount>    <DebitPurchaseAmount>0.00</DebitPurchaseAmount>    <DebitReturnCount>0</DebitReturnCount>    <DebitReturnAmount>0.00</DebitReturnAmount></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Client” = generated by DC Direct application“DCDirect” = generated by DC Direct application“Server” = generated by Datacap server“Processor” = generated by payment processorDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code that identifies the error type. See Errors on error codes for possible values.CmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor. For other response codes, see Errors on Error Codes for values.SequenceNo(Number 1-20 chars)RequiredThe sequence number returned in all responses to be used on the next request. If the SequenceNo is lost or initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestMerchantID(String 1-24 chars)RequiredThe merchant ID supplied in the transaction request.PayAPI_Id(String 1-34 chars)The Pay API reference number to be used through Pay API for follow up transactions.OperatorID(Number 1-10 chars)RequiredOperator (clerk, server, etc.) associated with the Transaction.BatchNo(String 1-6 chars)RequiredBatch number returned by processorBatchItemCount(Number 1-8 chars)RequiredNumber of total items in batchNetBatchTotal(Number 1-10 chars)RequiredNet of all transactions in batchCreditPurchaseCount(Number 1-8 chars)Number of credit returns transactions in batch returned by BatchSummary request.CreditPurchaseAmount(Number 1-10 chars)Number of credit returns transactions in batch returned by BatchSummary request.CreditReturnCount(Number 1-8 chars)Number of credit returns transactions in batch returned by BatchSummary request.CreditReturnAmount(Number 1-10 chars)Number of credit returns transactions in batch returned by BatchSummary request.DebitPurchaseCount(Number 1-8 chars)Number of debit purchase transactions in batch returned by BatchSummary request.DebitPurchaseAmount(Number 1-10 chars)Net of all debit purchase transactions in batch returned by BatchSummary request.DebitReturnCount(Number 1-8 chars)Number of debit return transactions in batch returned by BatchSummary request.DebitReturnAmount(Number 1-10 chars)Net of all debit return transactions in batch returned by BatchSummary request.DeviceVersionReturns the device serial number of the card entry device, device app name (i.e. PXRetailer, UPP, RBA, XPI, etc), device app version, and the device OS version.Sample Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 184<?xml version="1.0"?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <UserTrace>Test</UserTrace>        <POSPackageID>PyTest:2.1</POSPackageID>        <TranCode>DeviceVersion</TranCode>        <SecureDevice>CloudEMV2</SecureDevice>        <SequenceNo>0010010010</SequenceNo>        <TranDeviceID>1440033797</TranDeviceID>    </Transaction></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.UserTrace(String 1-40 chars)A unique value created and supplied by POS system.POSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”).TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return ,void, etc)SecureDevice(String 1-40 chars)Required“CloudEMV2”SequenceNo(String 10-12 chars)RequiredUse the value returned for <SequenceNo> from the last response. If the SequenceNo is lost or for initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.TranDeviceID(String 10-24 chars)The serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Sample Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>  <ResponseOrigin>Client</ResponseOrigin>  <DSIXReturnCode>500000</DSIXReturnCode>  <CmdStatus>Success</CmdStatus>  <TextResponse>Success</TextResponse>  <UserTrace>Test</UserTrace>  <SerialNumber>1440033797</SerialNumber>  <DeviceAppName>PXRetailer</DeviceAppName>  <DeviceAppVersion>2.0.56</DeviceAppVersion></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Server” = generated by DSI server“Processor” = generated by processor“Client” = generated by DSIClientX controlDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code that identifies the error type. See Section 7 on error codes for possible valuesCmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error. See Section 6.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor.UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestSerialNumber(Number 1-50 chars)Serial number of card entry device.DeviceAppName(String 1-24 chars)Name of the app running on the card entry device which we interfaces with (PXRetailer, UPP, RBA, XPI, etc).DeviceAppVersion(Number 1-24 chars)App version running on the card entry device which we interface with.ClientVersionReturns the product name and product version number.Sample Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 146<?xml version="1.0"?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <UserTrace>Test</UserTrace>        <POSPackageID>PyTest:2.1</POSPackageID>        <TranCode>ClientVersion</TranCode>        <SecureDevice>CloudEMV2</SecureDevice>        <SequenceNo>0010010010</SequenceNo>        <TranDeviceID>1440033797</TranDeviceID>    </Transaction></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.UserTrace(String 1-40 chars)A unique value created and supplied by POS system.POSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”).TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return ,void, etc)SecureDevice(String 1-40 chars)Required“CloudEMV2”SequenceNo(String 10-12 chars)RequiredUse the value returned for <SequenceNo> from the last response. If the SequenceNo is lost or for initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.TranDeviceID(String 10-24 chars)The serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Sample Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>  <ResponseOrigin>DCDirect</ResponseOrigin>  <CmdStatus>Success</CmdStatus>  <DSIXReturnCode>000000</DSIXReturnCode>  <TextResponse>Success</TextResponse>  <ProductName>Android DCDirect</ProductName>  <ProductVersion>1.15_20230815C</ProductVersion>  <UserTrace>Test</UserTrace></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Server” = generated by DSI server“Processor” = generated by processor“Client” = generated by DSIClientX controlCmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error. See Section 6.DSIXReturnCode(Number 6-6 chars)RequiredSix digit return code that identifies the error type. See Section 7 on error codes for possible valuesTextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor.ProductName(String 1-24 chars)Name of the client app/library being used (i.e. Android DCDirect, etc)ProductVersion(Number 1-8 chars)Version / build date of client app/library being used (i.e. 2.9, 1.56).UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestTransactionCancelTo cancel a transaction in process with a particular TranDeviceIDImplementation Notes:1. <TranCode> should be set to TransactionCancel2. If communicating with DC Direct directly over a local network, include the Cancel-Any-Pending-Trans header with a value of YES.3. TransactionCancel is supported on DC Direct Android (PAX) onlySample Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 165<?xml version="1.0"?><TStream>    <Admin>        <MerchantID>DEMODCHALGP</MerchantID>        <POSPackageID>EMVUSClient:1.26</POSPackageID>        <OperatorID>TEST</OperatorID>        <UserTrace>Test</UserTrace>        <TranCode>TransactionCancel</TranCode>        <SecureDevice>CloudEMV2</SecureDevice>        <SequenceNo>0010010010</SequenceNo>        <TranDeviceID>1440033797</TranDeviceID>    </Admin></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.POSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”). Ex: EMVUSClient:1.26OperatorID(String 1-24 chars)Operator (clerk, server, etc.) associated with the transaction.UserTrace(String 1-40 chars)A unique value created and supplied by POS system.TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return ,void, etc)SecureDevice(String 1-40 chars)Required“CloudEMV2”SequenceNo(String 1-20 chars)RequiredUse the value returned for SequenceNo from the last response. If the SequenceNo is lost or for initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.TranDeviceID(String 10-24 chars)The serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Sample Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>    <ResponseOrigin>TranCloud</ResponseOrigin>    <CmdStatus>Success</CmdStatus>    <DSIXReturnCode>003001</DSIXReturnCode>    <TextResponse>Sent cancel to tran</TextResponse>    <SequenceNo>0010010010</SequenceNo>    <UserTrace>Test</UserTrace></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“TranCloud” = generated by tran cloud service“Client” = generated by Tran application“Server” = generated by Datacap server“Processor” = generated by payment processorCmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor. For other response codes, see Section 11 on Error Codes for values.SequenceNo(Number 1-20 chars)RequiredThe sequence number returned in all responses to be used on the next request. If the SequenceNo is lost or initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestBatchCloseTo close the currently open batch. Transactions in an open batch will not be paid to the merchant until the batch is closed. A BatchClose should be performed at least daily for most merchants.Implementation Notes:1. A BatchSummary request must be performed immediately prior to a BatchClose request and all matching response fields (including those with 0.00 values) in the BatchSummary response must be supplied in the BatchClose request.2. <TranCode> should be set to BatchClose3. <TranType> should be set to AdministrativeSample Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 392<?xml version="1.0"?><TStream>    <Admin>        <MerchantID>DEMODCHALGP</MerchantID>        <POSPackageID>EMVUSClient:1.26</POSPackageID>        <SecureDevice>CloudEMV2</SecureDevice>        <OperatorID>TEST</OperatorID>        <UserTrace>Test</UserTrace>        <TranType>Administrative</TranType>        <TranCode>BatchClose</TranCode>        <SequenceNo>0010010010</SequenceNo>        <BatchNo>0099</BatchNo>        <BatchItemCount>4</BatchItemCount>        <NetBatchTotal>32.32</NetBatchTotal>        <CreditPurchaseCount>4</CreditPurchaseCount>        <CreditPurchaseAmount>32.32</CreditPurchaseAmount>        <CreditReturnCount>0</CreditReturnCount>        <CreditReturnAmount>0.00</CreditReturnAmount>        <DebitPurchaseCount>0</DebitPurchaseCount>        <DebitPurchaseAmount>0.00</DebitPurchaseAmount>        <DebitReturnCount>0</DebitReturnCount>        <DebitReturnAmount>0.00</DebitReturnAmount>        <TranDeviceID>123456789098765432101234</TranDeviceID>    </Admin></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.POSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”). Ex: EMVUSClient:1.26SecureDevice(String 1-40 chars)“CloudEMV2”OperatorID(String 1-24 chars)Operator (clerk, server, etc.) associated with the transaction.UserTrace(String 1-24 chars)A unique value created and supplied by POS systemTranType(String 1-40 chars)RequiredUsed with the TranCode to specify payment type.TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return ,void, etc)SequenceNo(String 1-20 chars)RequiredUse the value returned for SequenceNo from the last response. If the SequenceNo is lost or for initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.BatchNo(String 1-6 chars)RequiredBatch number returned by BatchSummary requestBatchItemCount(Number 1-8 chars)RequiredNumber of total items in batch returned by BatchSummary requestNetBatchTotal(Number 1-10 chars)RequiredNet of all transactions in batch returned by BatchSummary requestCreditPurchaseCount(Number 1-8 chars)Number of credit purchase transactions in batch returned by BatchSummary request. Note: This value must be included in the BatchClose request if it was returned in a BatchSummary response.CreditPurchaseAmount(Number 1-10 chars)Net of all credit purchase transactions in batch returned by BatchSummary requestNote: This value must be included in the BatchClose request if it was returned in a BatchSummary response.CreditReturnCount(Number 1-8 chars)Number of credit return transactions in batch returned by BatchSummary request. Note: This value must be included in the BatchClose request if it was returned in a BatchSummary response.CreditReturnAmount(Number 1-10 chars)Net of all credit return transactions in batch returned by BatchSummary request. Note: This value must be included in the BatchClose request if it was returned in a BatchSummary response.DebitPurchaseCount(Number 1-8 chars)Number of debit purchase transactions in batch returned by BatchSummary request. Note: This value must be included in the BatchClose request if it was returned in a BatchSummary response.DebitPurchaseAmount(Number 1-10 chars)Net of all debit purchase transactions in batch returned by BatchSummary request. Note: This value must be included in the BatchClose request it was returned in a BatchSummary response.DebitReturnCount(Number 1-8 chars)Number of debit return transactions in batch returned by BatchSummary request. Note: This value must be included in the BatchClose request if it was returned in a BatchSummary response.DebitReturnAmount(Number 1-10 chars)Net of all debit return transactions in batch returned by BatchSummary request. Note: This value must be included in the BatchClose request if it was returned in a BatchSummary response.TranDeviceID(String 10-24 chars)The serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Sample Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>    <ResponseOrigin>Processor</ResponseOrigin>    <DSIXReturnCode>000000</DSIXReturnCode>    <CmdStatus>Success</CmdStatus>    <TextResponse>OK</TextResponse>    <SequenceNo>0010010010</SequenceNo>    <UserTrace>Test</UserTrace>    <MerchantID>DEMODCHALGP</MerchantID>    <PayAPI_Id>q-25316D09744F4055A353C76B84A72E89</PayAPI_Id>    <OperatorID>TEST</OperatorID>    <BatchNo>0099</BatchNo>    <BatchItemCount>4</BatchItemCount>    <NetBatchTotal>32.32</NetBatchTotal>    <CreditPurchaseCount>4</CreditPurchaseCount>    <CreditPurchaseAmount>32.32</CreditPurchaseAmount>    <CreditReturnCount>0</CreditReturnCount>    <CreditReturnAmount>0.00</CreditReturnAmount>    <DebitPurchaseCount>0</DebitPurchaseCount>    <DebitPurchaseAmount>0.00</DebitPurchaseAmount>    <DebitReturnCount>0</DebitReturnCount>    <DebitReturnAmount>0.00</DebitReturnAmount>    <PostProcess>EMVParamDownloadRequired</PostProcess></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Client” = generated by DC Direct application“DCDirect” = generated by DC Direct application“Server” = generated by Datacap server“Processor” = generated by payment processorDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code that identifies the error type. See Errors on error codes for possible values.CmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor. For other response codes, see Errors on Error Codes for values.SequenceNo(Number 1-20 chars)RequiredThe sequence number returned in all responses to be used on the next request. If the SequenceNo is lost or initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestMerchantID(String 1-24 chars)RequiredThe merchant ID supplied in the transaction request.PayAPI_Id(String 1-34 chars)The Pay API reference number to be used through Pay API for follow up transactions.OperatorID(Number 1-10 chars)RequiredOperator (clerk, server, etc.) associated with the Transaction.BatchNo(String 1-6 chars)RequiredBatch number returned by processorBatchItemCount(Number 1-8 chars)RequiredNumber of total items in batchNetBatchTotal(Number 1-10 chars)RequiredNet of all transactions in batchCreditPurchaseCount(Number 1-8 chars)Number of credit returns transactions in batch returned by BatchSummary request.CreditPurchaseAmount(Number 1-10 chars)Number of credit returns transactions in batch returned by BatchSummary request.CreditReturnCount(Number 1-8 chars)Number of credit returns transactions in batch returned by BatchSummary request.CreditReturnAmount(Number 1-10 chars)Number of credit returns transactions in batch returned by BatchSummary request.DebitPurchaseCount(Number 1-8 chars)Number of debit purchase transactions in batch returned by BatchSummary request.DebitPurchaseAmount(Number 1-10 chars)Net of all debit purchase transactions in batch returned by BatchSummary request.DebitReturnCount(Number 1-8 chars)Number of debit return transactions in batch returned by BatchSummary request.DebitReturnAmount(Number 1-10 chars)Net of all debit return transactions in batch returned by BatchSummary request.PostProcess(String 1-40 chars)If this tag is retuned with a value ‘EMVParamDownloadRequired’, the POS system should perform an EMV Parameter Download request as the next transaction.SAF_ForwardAllTo stage all transactions which may have been performed in Store and Forward (Offline) mode.Implementation Notes:1. This transaction must be performed prior to performing a BatchSummary and then BatchClose command.2. <TranType> should be set to Administrative3. SAF_ForwardAll must complete prior to sending new transactions.Sample Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 108<?xml version="1.0"?><TStream>    <Admin>        <MerchantID>DEMODCHALGP</MerchantID>        <POSPackageID>EMVUSClient:1.26</POSPackageID>        <OperatorID>TEST</OperatorID>        <UserTrace>Test</UserTrace>        <TranType>Administrative</TranType>        <TranCode>SAF_ForwardAll</TranCode>        <SequenceNo>0010010010</SequenceNo>    </Admin></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.POSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”).OperatorID(String 1-24 chars)Operator (clerk, server, etc.) associated with the transaction.UserTrace(String 1-40 chars)A unique value created and supplied by POS system.TranType(String 1-24 chars)RequiredUsed with the TranCode to specify payment type.TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return ,void, etc)SecureDevice(String 1-40 chars)RequiredSecure Device type. See Supported EMV PIN Pad Devices for ValidSecureDeviceID values.SequenceNo(String 10-12 chars)RequiredUse the value returned for <SequenceNo> from the last response. If the SequenceNo is lost or for initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.Sample Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>    <CmdResponse>        <ResponseOrigin>StoreAndForward</ResponseOrigin>        <DSIXReturnCode>000000</DSIXReturnCode>        <CmdStatus>Success</CmdStatus>        <TextResponse>SUCCESS</TextResponse>        <SequenceNo>0010010010</SequenceNo>        <UserTrace>Test</UserTrace>    </CmdResponse>    <SAF_ForwardAll>        <MerchantID>DEMODCHALGP</MerchantID>        <OperatorID>TEST</OperatorID>        <RequestsForwarded>7</RequestsForwarded>        <RequestsVoided>0</RequestsVoided>        <ForwardingErrors_FailedToGetRequest>0</ForwardingErrors_FailedToGetRequest><ForwardingErrors_FailedToSetRequestStatus>0</ForwardingErrors_FailedToSetRequestStatus>        <OrphanedAdjustRequests>0</OrphanedAdjustRequests>        <OrphanedVoidedRequests>0</OrphanedVoidedRequests>        <RequestsApproved>7</RequestsApproved>        <RequestsPartiallyApproved>0</RequestsPartiallyApproved>        <RequestsDeclined>0</RequestsDeclined>        <RequestsError>0</RequestsError>        <StoredSaleAuthorized>41.00</StoredSaleAuthorized>        <StoredReturnAuthorized>0.00</StoredReturnAuthorized>        <ProcessorSaleAuthorized>41.00</ProcessorSaleAuthorized>        <ProcessorReturnAuthorized>0.00</ProcessorReturnAuthorized>        <StartTime>2017-03-09T17:13:48.750</StartTime>        <EndTime>2017-03-09T17:13:56.125</EndTime>        <FirstRequestCreateDate>2017-03-09T16:36:04.577</FirstRequestCreateDate>        <LastRequestCreateDate>2017-03-09T17:03:55.417</LastRequestCreateDate>    </SAF_ForwardAll>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Server” = generated by DSI server“Processor” = generated by processor“Client” = generated by DSIClientX controlDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code that identifies the error type. See Error Codes for possible values.CmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error. See Response Implementation Notes.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor.SequenceNo(String 10-12 chars)RequiredThe sequence number returned in all responses to be used on the next request. If the SequenceNo is lost or initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestMerchantID(String 1-24 chars)RequiredThe merchant ID supplied in the transaction request.Operator(String 1-23 chars)Operator number used in requestRequestsForwarded*(Number 1-8 chars)Total number of requests (pendings) that were forwarded when the forward all process has completed.RequestsVoided*(Number 1-8 chars)Total number of requests (void pendings) that were “voided” when the forward all process has completed.ForwardingErrors_FailedToGetRequest*(Number 1-8 chars)Total number of requests (pendings) where the stored request could not be accessed in-memory (highly unlikely) when forward all process has completed.ForwardingErrors_FailedToSetRequest*(Number 1-8 chars)Total number of requests (pendings) that once an Approved, PartiallyApproved, Declined, or Error has been determined, the request’s status failed to be updated (usually a database issue) when forward all process has completed.OrphanedAdjustRequests*(Number 1-8 chars)Total number of requests (adjust pendings where the parent transaction was processed online) that were forwarded when the forward all process has completed.OrphanedVoidedRequests*(Number 1-8 chars)Total number of requests (void pendings where the parent transaction was processed online) that were forwarded when the forward all process has completed.RequestsApproved*(Number 1-8 chars)Total number of requests (pendings) that were fully approved by the processor when forward all process has completed.RequestsPartiallyApproved*(Number 1-8 chars)Total number of requests (pendings) that were partially approved by the processor when forward all process has completed.RequestsDeclined*(Number 1-8 chars)Total number of requests (pendings) that were declined by the processor when forward all process has completed.RequestsError*(Number 1-8 chars)Total number of requests (pendings) that once the request is placed in the NETePay queue for processing, the result is some NETePay error and not an approval or decline from the payment service.StoredSaleAuthorized*(Number 1-10 chars)Internal total dollar sale amount for requests (pendings) to forward when the forward all process began.StoredReturnAuthorized*(Number 1-10 chars)Processor total dollar return amount for requests (pendings) when the forward all process has completed.ProcessorSaleAuthorized*(Number 1-10 chars)Processor total dollar sale amount for requests (pendings) when the forward all process has completed.ProcessorReturnAuthorized*(Number 1-10 chars)Processor total dollar return amount for requests (pendings) when the forward all process has completed.StartTime*(String 23 chars)Date and time when SAF_ForwardAll transaction was started. ISO 8601 format - “YYYY-MM-DD-THH:MM:SS.nnn”EndTime*(String 23 chars)Date and time when SAF_ForwardAll transaction completed. ISO 8601 format - “YYYY-MM-DD-THH:MM:SS.nnn”FirstRequestCreateDate*(String 23 chars)Date created time stamp of the first non-void pending transaction when the forward all process began. ISO 8601 format - “YYYY-MM-DD-THH:MM:SS.nnn”LastRequestCreateDate*(String 23 chars)Date created time stamp of the last non-void pending transaction when the forward all process began. ISO 8601 format - “YYYY-MM-DD-THH:MM:SS.nnn”SAF_StatisticsTo retrieve statistics for transactions currently stored offline.Implementation Notes:1. <TranType> should be set to AdministrativeSample Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 114<?xml version="1.0"?><TStream>    <Admin>        <MerchantID>DEMODCHALGP</MerchantID>        <POSPackageID>EMVUSClient:1.26</POSPackageID>        <OperatorID>TEST</OperatorID>        <UserTrace>Test</UserTrace>        <TranType>Administrative</TranType>        <TranCode>SAF_Statistics</TranCode>        <SequenceNo>0010010010</SequenceNo>    </Admin></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.POSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”).OperatorID(String 1-24 chars)Operator (clerk, server, etc.) associated with the transaction.UserTrace(String 1-40 chars)A unique value created and supplied by POS system.TranType(String 1-24 chars)RequiredUsed with the TranCode to specify payment type.TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return ,void, etc)SecureDevice(String 1-40 chars)RequiredSecure Device type. See Supported EMV PIN Pad Devices for ValidSecureDeviceID values.SequenceNo(String 10-12 chars)RequiredUse the value returned for <SequenceNo> from the last response. If the SequenceNo is lost or for initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.Sample Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>    <CmdResponse>        <ResponseOrigin>StoreAndForward</ResponseOrigin>        <DSIXReturnCode>000000</DSIXReturnCode>        <CmdStatus>Success</CmdStatus>        <TextResponse>SUCCESS</TextResponse>        <SequenceNo>0010010010</SequenceNo>        <UserTrace>Test</UserTrace>    </CmdResponse>    <SAF_Statistics>        <MerchantID>DEMODCHALGP</MerchantID>        <OperatorID>TEST</OperatorID>        <RequestsToForward>0</RequestsToForward>        <StoredSaleAuthorized>0.00</StoredSaleAuthorized>        <StoredReturnAuthorized>0.00</StoredReturnAuthorized>        <Time>2017-10-27T12:49:15.439</Time>        <FirstRequestCreateDate>2017-10-27T12:48:04.577</FirstRequestCreateDate>        <LastRequestCreateDate>2017-10-27T12:48:04.577</LastRequestCreateDate>    </SAF_Statistics></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Server” = generated by DSI server“Processor” = generated by processor“Client” = generated by DSIClientX controlDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code that identifies the error type. See Error Codes for possible values.CmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error. See Response Implementation Notes.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor.SequenceNo(String 10-12 chars)RequiredThe sequence number returned in all responses to be used on the next request. If the SequenceNo is lost or initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestMerchantID(String 1-24 chars)RequiredThe merchant ID supplied in the transaction request.Operator(String 1-23 chars)Operator number used in requestStoredSaleAuthorized*(Number 1-10 chars)Internal total dollar sale amount for requests (pendings) to forward when the forward all process began.StoredReturnAuthorized*(Number 1-10 chars)Processor total dollar return amount for requests (pendings) when the forward all process has completed.RequestsToForward*(Number 1-8 chars)Total number of requests (pendings) stored.Time*(String 23 chars)Current time.FirstRequestCreateDate*(String 23 chars)Date created time stamp of the first non-void pending transaction when the forward all process began. ISO 8601 format - “YYYY-MM-DD-THH:MM:SS.nnn”LastRequestCreateDate*(String 23 chars)Date created time stamp of the last non-void pending transaction when the forward all process began. ISO 8601 format - “YYYY-MM-DD-THH:MM:SS.nnn”BatchReportQueryTo retrieve status of transaction data in local batch, including stored transactions from Store and Forward (offline) mode.Implementation Notes:1. <CmdStatus> options are “Approve”, “Decline”, or “All”. Decline is the default.2. <Sort> options are “InvoiceNo”, “Id”, “Status”, “TransDateTime”, or “IsSAF”. Id is the default.3. <SAFOnly> options are “Yes”, “No”, or “All”. Use Yes to retrieve only transactions that were stored and forwarded. Yes is the default.4. In response, <Status> values are “A” (Approved), “X” (Transmitted), “V” (Voided), “Declined”, and “Error”.Sample Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 247<?xml version="1.0"?><TStream>    <Admin>        <MerchantID>DEMODCHALGP</MerchantID>        <POSPackageID>EMVUSClient:1.26</POSPackageID>        <OperatorID>TEST</OperatorID>        <UserTrace>Test</UserTrace>        <TranType>Administrative</TranType>        <TranCode>BatchReportQuery</TranCode>        <TransDateTimeBegin>2019-01-14</TransDateTimeBegin>        <TransDateTimeEnd>2019-01-21</TransDateTimeEnd>        <CmdStatus>All</CmdStatus>        <Sort>InvoiceNo</Sort>        <SAFOnly>All</SAFOnly>    </Admin></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.POSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”).OperatorID(String 1-24 chars)Operator (clerk, server, etc.) associated with the transaction.UserTrace(String 1-40 chars)A unique value created and supplied by POS system.TranType(String 1-24 chars)RequiredUsed with the TranCode to specify payment type.TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return ,void, etc)SecureDevice(String 1-40 chars)RequiredSecure Device type. See Supported EMV PIN Pad Devices for ValidSecureDeviceID values.TransDateTimeBegin(String 10 chars)RequiredFor Batch Report transactions, begin time as “YYYY-MM-DD”. Date range can be no longer than 7 days.TransDateTimeEnd(String 10 chars)RequiredFor Batch Report transactions, end time as “YYYY-MM-DD”. Date range can be no longer than 7 days.CmdStatus(String 1-10 chars)For Batch Report transactions, use to search only approved or declined transactions. Options are “Approve”, “Decline”, or “All”. Decline is the default.Sort(String 1-15 chars)For Batch Report transactions, use to sort results. Options are “InvoiceNo”, “Id”, “Status”, “TransDateTime”, or “IsSAF”. Id is the default.SAFOnly(String 1-3 chars)For Batch Report transactions, use to retrieve only transactions that were stored and forwarded. Options are “Yes”, “No”, or “All”. Yes is the default.Sample Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>    <CmdResponse>        <ResponseOrigin>Server</ResponseOrigin>        <DSIXReturnCode>000000</DSIXReturnCode>        <CmdStatus>Success</CmdStatus>        <TextResponse>SUCCESS</TextResponse>        <UserTrace>Test</UserTrace>    </CmdResponse>    <BatchReportQuery>        <IdNo1>A1</IdNo1>        <InvoiceNo1>2004</InvoiceNo1>        <Status1>X</Status1>        <TransDateTime1>2019-01-21 09:49:01.767</TransDateTime1>        <IsSAF1>No</IsSAF1>        <IdNo2>A2</IdNo2>        <InvoiceNo2>2005</InvoiceNo2>        <Status2>X</Status2>        <TransDateTime2>2019-01-21 09:49:50.317</TransDateTime2>        <IsSAF2>No</IsSAF2>        <IdNo3>A3</IdNo3>        <InvoiceNo3>2002</InvoiceNo3>        <Status3>X</Status3>        <TransDateTime3>2019-01-21 09:53:01.221</TransDateTime3>        <IsSAF3>Yes</IsSAF3>        <PayAPI_Id>q-9AA95DA062D04F9DA32ED149BBD96F7B</PayAPI_Id>    </BatchReportQuery></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Server” = generated by DSI server“Processor” = generated by processor“Client” = generated by DSIClientX controlDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code that identifies the error type. See Error Codes for possible values.CmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error. See Response Implementation Notes.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor.UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestIdNo(String 1-10 chars)RequiredFor Batch Report transactions, identifies a specific transaction in local batch.InvoiceNo(Number 1-8 chars)RequiredThe invoice number supplied in the transaction request.Status(String 1-10 chars)RequiredFor Batch Report transactions, identifies the transaction’s status. Values are “A” (Approved), “X” (Transmitted), “V” (Voided), “Declined”, and “Error”.TransDateTime(String 1-24 chars)RequiredFor Batch Report transactions, date of transaction was executed. ISO 8601 format - “YYYY-MM-DD-THH:MM:SS.nnn”IsSAF(String 2-3 chars)RequiredFor Batch Report transactions, determines if transaction was stored offline. Values are “Yes” or “No”.PayAPI_Id(String 34 chars)Transaction ID used for Pay API follow-up requests.BatchReportTransactionTo retrieve details of a specific transaction in local batch, including stored transactions from Store and Forward (offline) mode.Implementation Notes:1. Transactions can be found by either <IdNo> or <InvoiceNo>.2. In response, <Status> values are “A” (Approved), “X” (Transmitted), “V” (Voided), “Declined”, and “Error”.Sample Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 195<?xml version="1.0"?><TStream>    <Admin>        <MerchantID>DEMODCHALGP</MerchantID>        <POSPackageID>EMVUSClient:1.26</POSPackageID>        <OperatorID>TEST</OperatorID>        <UserTrace>Test</UserTrace>        <TranType>Administrative</TranType>        <TranCode>BatchReportTransaction</TranCode>        <InvoiceNo>2005</InvoiceNo>        <IdNo>A5</IdNo>     <CmdStatus>Approve</CmdStatus>    </Admin></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.POSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”).OperatorID(String 1-24 chars)Operator (clerk, server, etc.) associated with the transaction.UserTrace(String 1-40 chars)A unique value created and supplied by POS system.TranType(String 1-24 chars)RequiredUsed with the TranCode to specify payment type.TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return ,void, etc)SecureDevice(String 1-40 chars)RequiredSecure Device type. See Supported EMV PIN Pad Devices for ValidSecureDeviceID values.InvoiceNo(Number 1-8 chars)RequiredInvoice number, sequential receipt number, check number, or other unique transaction identifier created and supplied by POS system.IdNo(String 1-10 chars)RequiredFor a BatchReportTransaction, used to search for a specific transaction. IdNo value is returned from a previous call to BatchReportQuery.Sample Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>    <CmdResponse>        <ResponseOrigin>Server</ResponseOrigin>        <DSIXReturnCode>000000</DSIXReturnCode>        <CmdStatus>Success</CmdStatus>        <TextResponse>SUCCESS</TextResponse>        <UserTrace>Test</UserTrace>    </CmdResponse>    <BatchReportTransaction>        <IsSAF>No</IsSAF>        <Status>X</Status>        <TranCode>EMVSale</TranCode>        <CardType>M/C</CardType>        <AcctNo>XXXXXXXXXXXX4111</AcctNo>        <ExpDate>XXXX</ExpDate>        <ExpDateMonth>12</ExpDateMonth>        <ExpDateYear>25</ExpDateYear>        <AccountSource>Chip</AccountSource>        <Purchase>5.00</Purchase>        <Authorize>5.00</Authorize>        <AuthCode>150948</AuthCode>        <RefNo>00000002</RefNo>        <TransDateTime>2019-01-21 09:49:50.317</TransDateTime>        <InvoiceNo>2005</InvoiceNo>    </BatchReportTransaction></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Server” = generated by DSI server“Processor” = generated by processor“Client” = generated by DSIClientX controlDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code that identifies the error type. See Error Codes for possible values.CmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error. See Response Implementation Notes.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor.UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestIsSAF(String 2-3 chars)RequiredFor Batch Report transactions, determines if transaction was stored offline. Values are “Yes” or “No”.Status(String 1-10 chars)RequiredFor Batch Report transactions, identifies the transaction’s status. Values are “A” (Approved), “X” (Transmitted), “V” (Voided), “Declined”, and “Error”.TranCode(String 1-40 chars)RequiredTranCode value supplied in the transaction request.CardType(String 1-24 chars)Card type used on transaction. Values include: AMEX, VISA, M/C, DCLB, DCVR, JCB, Debit, OTHER, UNDETERMINED (returned on tokenized transactions).AcctNo(String 1-24 chars)The account number from the card used for a manually entered transaction – will be truncated.ExpDate(Number 4 chars)Expiration date as MMYYExpDateMonth(Number 2-2 chars)Expiration date month in MM format. Returned when optional <ReturnClearExpDate> used in a request.ExpDateYear(Number 2-2 chars)Expiration date year in YY format. Returned when optional <ReturnClearExpDate> used in a request.AccountSource(String 1-24 chars)RequiredThe method of card entry. Values include Contactless, Swiped, Keyed, and Chip.Amount:Purchase(Number 1-8 chars)RequiredThe purchase amount requested in the transaction.Amount:Authorize(Number 1-8 chars)The amount actually authorized for the transaction. This amount could be less than the Purchase amount requested and the POS/ECR system should verify to determine if additional tendering is required to satisfy the total payment.AuthCode(String 1-24 chars)The authorization code issued by the host for an approved transaction.RefNo(String 1-50 chars)Reference numberTransDateTime(String 1-24 chars)RequiredFor Batch Report transactions, date of transaction was executed. ISO 8601 format - “YYYY-MM-DD-THH:MM:SS.nnn”InvoiceNo(Number 1-8 chars)RequiredThe invoice number supplied in the transaction request.DatabasesTo identify the number of local databases and their filenamesImplementations Notes:1. Returns all database file names on the device in tag DatabaseX, where ‘X’ starts at numeric 1 and continues until the last file name is encountered (example3 “Database1”, “Database2”, “Database9”). In the form of {lib version number}_{Device SN}.db - Example: “2.00_1850054321.db”2. The TextResponse will contain the number of database files found (examples: “2 database(s) found.”, “0 database(s) found.”.Sample Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 174<?xml version="1.0"?><TStream>    <Admin>        <MerchantID>DEMODCHALGP</MerchantID>        <UserTrace>Test</UserTrace>        <POSPackageID>PyTest:2.0</POSPackageID>        <TranCode>Databases</TranCode>        <InvoiceNo>1164640392</InvoiceNo>        <SequenceNo>0010010010</SequenceNo>        <OperatorID>001</OperatorID>        <TranType>Administrative</TranType>    </Admin></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.UserTrace(String 1-40 chars)A unique value created and supplied by POS system.POSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”).TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return ,void, etc)SecureDevice(String 1-40 chars)Required“CloudEMV2”InvoiceNo(Number 1-8 chars)The invoice number supplied in the transaction request.SequenceNo(String 10-12 chars)RequiredUse the value returned for <SequenceNo> from the last response. If the SequenceNo is lost or for initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.OperatorID(String 1-24 chars)Operator (clerk, server, etc.) associated with the transaction.TranType(String 1-24 chars)RequiredUsed with the TranCode to specify payment type.Sample Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>    <CmdResponse>        <ResponseOrigin>Server</ResponseOrigin>        <DSIXReturnCode>000000</DSIXReturnCode>        <CmdStatus>Success</CmdStatus>        <TextResponse>2 database(s) found.</TextResponse>        <UserTrace>Test</UserTrace>        <SequenceNo>0010010010</SequenceNo>    </CmdResponse>    <Databases>        <Database1>2.00_MERCHNAME0AB.db</Database1>        <Database2>2.00_MERCHNAME0AC.db</Database2>    </Databases></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Server” = generated by DSI server“Processor” = generated by processor“Client” = generated by DSIClientX controlDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code that identifies the error type. See Section 7 on error codes for possible valuesCmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error. See Section 6.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor.UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestSequenceNo(String 10-12 chars)RequiredThe sequence number returned in all responses to be used on the next request. If the SequenceNo is lost or initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.DatabaseSizeTo determine the file size of the specified database.Implementations Notes:1. XML input tag (required): FileName (this would be determined by the result(s) from “Databases” command.2. Returns four XML tags:1. <FileName> (echos the name of the input filename)2. <FileSize> (number of bytes of the database file)3. <TotalDiskSize> (number of bytes for storage on the device)4. <FreeDiskSpace> (number of free bytes for storage on the device)Sample Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 185<?xml version="1.0"?><TStream>    <Admin>        <MerchantID>DEMODCHALGP</MerchantID>        <UserTrace>Test</UserTrace>        <POSPackageID>PyTest:2.0</POSPackageID>        <TranCode>DatabaseSize</TranCode>        <FileName>2.00_1850054321.db</FileName>        <InvoiceNo>1164640392</InvoiceNo>        <SequenceNo>0010010010</SequenceNo>        <OperatorID>001</OperatorID>        <TranType>Administrative</TranType>    </Admin></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.UserTrace(String 1-40 chars)A unique value created and supplied by POS system.POSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”).TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return ,void, etc)FileName(String 1-40 chars)RequiredEchos the name of the input filename.SecureDevice(String 1-40 chars)Required“CloudEMV2”InvoiceNo(Number 1-8 chars)The invoice number supplied in the transaction request.SequenceNo(String 10-12 chars)RequiredUse the value returned for <SequenceNo> from the last response. If the SequenceNo is lost or for initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.OperatorID(String 1-24 chars)Operator (clerk, server, etc.) associated with the transaction.TranType(String 1-24 chars)RequiredUsed with the TranCode to specify payment type.Sample Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>    <CmdResponse>        <ResponseOrigin>Server</ResponseOrigin>        <DSIXReturnCode>000000</DSIXReturnCode>        <CmdStatus>Success</CmdStatus>        <TextResponse>Success</TextResponse>        <UserTrace>Test</UserTrace>        <SequenceNo>0010010010</SequenceNo>    </CmdResponse>    <DatabaseSize>        <FileName>2.00_MERCHNAME0AB.db</FileName>        <FileSize>147456</FileSize>        <TotalDiskSize>26635173888</TotalDiskSize>        <FreeDiskSpace>3734335488</FreeDiskSpace>    </DatabaseSize></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Server” = generated by DSI server“Processor” = generated by processor“Client” = generated by DSIClientX controlDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code that identifies the error type. See Section 7 on error codes for possible valuesCmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error. See Section 6.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor.UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestSequenceNo(String 10-12 chars)RequiredThe sequence number returned in all responses to be used on the next request. If the SequenceNo is lost or initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.- *FileName (String 1-40 chars)Echos the name of the input filename.FileName(String 1-40 chars)Echos the name of the input filename.FileSize(Number 1-10 chars)Number of bytes of the database file.TotalDiskSize(Number 1-10 chars)Number of bytes for storage on the device.FreeDiskSpace(Number 1-10 chars)Number of free bytes for storage on the device.DatabaseTruncateTo truncate the size of the specified Store and Forward and/or Local Batch Report databases.Auto Database TruncationAfter any type of transaction is used, this will cause the library to start a threaded process to keep the size of all databases stored on the device to no more than ten-percent of the total free space on the device. After the initial time, and every fifteen minutes afterword, this process will execute. If the total of all database files becomes greater than ten-percent of the total free disk space, all databases will have both their SAF and LBR databases truncated. If a “SAF_ForwardAll” is being executed at the time of the start of the auto-truncate, the auto-truncate will be aborted. If a “SAF_ForwardAll” is starting and an auto-truncate is in process, the auto-truncate will be aborted and the “SAF_ForwardAll” will continue. There is no messaging to the user about this auto-truncate process (success and/or failure).Implementations Notes:1. XML input tags1. FileName (required) (this would be determined by the result(s) from “Databases” command.2. Application (optional), a value of either “SAF” or “LBR”. Default is to truncated both application databases. When a specific value is used, only that application will have its database truncated.2. Returns a message in tag “DatabaseTruncate” stating how many transactions were truncated from either or both databases (SAF and LBR).3. Example of message: <DatabaseTruncate>Truncated 0 transaction(s) from LocalBatchReport database. Truncated 0 transaction(s) from StoreAndForward database.</DatabaseTruncate>Sample Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 206<?xml version="1.0"?><TStream>    <Admin>        <MerchantID>DEMODCHALGP</MerchantID>        <UserTrace>Test</UserTrace>        <POSPackageID>PyTest:2.0</POSPackageID>        <TranCode>DatabaseTruncate</TranCode>        <FileName>2.00_1850054321.db</FileName>        <Application>LBR</Application>        <InvoiceNo>1164640392</InvoiceNo>        <SequenceNo>0010010010</SequenceNo>        <OperatorID>001</OperatorID>        <TranType>Administrative</TranType>    </Admin></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.UserTrace(String 1-40 chars)A unique value created and supplied by POS system.POSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”).TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return ,void, etc)FileName(String 1-40 chars)RequiredEchos the name of the input filename.Application(String 1-3 chars)Values include either “SAF” or “LBR”. If SAF is sent, only the SAF database is truncated. If the LBR is sent, only the LBR database is truncated. If the Application parameter is not sent, both databases will be truncated.SecureDevice(String 1-40 chars)Required“CloudEMV2”InvoiceNo(Number 1-8 chars)The invoice number supplied in the transaction request.SequenceNo(String 10-12 chars)RequiredUse the value returned for <SequenceNo> from the last response. If the SequenceNo is lost or for initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.OperatorID(String 1-24 chars)Operator (clerk, server, etc.) associated with the transaction.TranType(String 1-24 chars)RequiredUsed with the TranCode to specify payment type.Sample Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>    <CmdResponse>        <ResponseOrigin>Server</ResponseOrigin>        <DSIXReturnCode>000000</DSIXReturnCode>        <CmdStatus>Success</CmdStatus>        <TextResponse>Success</TextResponse>        <UserTrace>Test</UserTrace>        <SequenceNo>0010010010</SequenceNo>    </CmdResponse>    <DatabaseTruncate>Truncated 10 transaction(s) from LocalBatchReport database.Truncated 0 transaction(s) from StoreAndForward database.</DatabaseTruncate></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Server” = generated by DSI server“Processor” = generated by processor“Client” = generated by DSIClientX controlDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code that identifies the error type. See Section 7 on error codes for possible valuesCmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error. See Section 6.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor.UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestSequenceNo(String 10-12 chars)RequiredThe sequence number returned in all responses to be used on the next request. If the SequenceNo is lost or initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.- *FileName (String 1-40 chars)Echos the name of the input filename.DatabaseTruncate(String 1-250 chars)Message stating how many transactions were truncated from either or both databases (SAF and LBR).CollectCardDataProvides pre-dip functionality by collecting card data, temporarily storing it in memory, and returning information about the presented card.Implementation Notes:1. On Success, The next step would be to perform a supported EMV transaction sending <UseLastCardID> from the original response.Sample Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 113<?xml version="1.0"?><TStream>  <Admin>    <MerchantID>DEMODCHALGP</MerchantID>    <PlaceHolderAmount>1.00</PlaceHolderAmount>    <TranCode>CollectCardData</TranCode>    <SecureDevice>CloudEMV2</SecureDevice>    <TranDeviceID>1850285922</TranDeviceID>  </Admin></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.PlaceHolderAmount(Number 1-8 chars)RequiredTemporary purchase amount until total is calculated (with 2 decimal places – eg. 29.95). Best practice is to use the average ticket amount to manage the CVM behavior of the PIN pad.TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return ,void, etc)SecureDevice(String 1-40 chars)“CloudEMV2”TranDeviceID(String 10-24 chars)The serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Sample Response? xml?<?xml version="1.0" encoding="UTF-8"?><RStream>  <ResponseOrigin>Client</ResponseOrigin>  <DSIXReturnCode>000000</DSIXReturnCode>  <CmdStatus>Success</CmdStatus>  <TextResponse>Success</TextResponse>  <CustomerData>NRc6MTDsAeGahfI0RyI=</CustomerData>  <CardholderName>CardHolder Name</CardholderName>  <ExpDateMonth>12</ExpDateMonth>  <ExpDateYear>24</ExpDateYear>  <CardBin>123456</CardBin>  <Last4>9876</Last4>  <AccountSource>ChipRead</AccountSource>  <AID>A0000000031010</AID>  <CardType>VISA</CardType>  <TranType>EMVCredit</TranType></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Server” = generated by DSI server“Processor” = generated by processor“Client” = generated by DSIClientX controlDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code that identifies the error type. See Section 7 on error codes for possible valuesCmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error. See Section 6.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor.CustomerData(String 1-50 chars)Base-64 unique identifier of the payment card presented. Commonly used for parking in/out.CardholderName(String 2-26 chars)Cardholder name as read from the card where possible. This may include spaces as padding and the surname separator “/”.ExpDateMonth(Number 2-2 chars)Expiration date month in MM format.ExpDateYear(Number 2-2 chars)Expiration date year in YY format.CardBin(Number 1-6 chars)6-digit BIN from the card account number.Last4(Number 4-4 chars)Last 4 digits of the account number.AccountSource(String 1-24 chars)Method of card entry. Possible values include “Unknown”, “Swipe”, “Fallback/Swipe”, “ChipRead”, and “ContactlessChip”.AID(String 1-40 chars)Selected Application ID. Only returned for EMV contact/contactless transactions.CardType(String 1-24 chars)Card type used on transaction. Values include: AMEX, VISA, M/C, DCLB, DCVR, JCB, Debit, OTHER, UNDETERMINED (returned on tokenized transactions).TranType(String 1-24 chars)Transaction type selected by customer “Credit” or Debit".