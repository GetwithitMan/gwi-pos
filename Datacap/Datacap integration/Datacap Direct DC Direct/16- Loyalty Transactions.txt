Loyalty TransactionsThere is one format available for DC Direct Loyalty transactions.Loyalty EMVIssueTo issue a new loyalty (rewards) card with a starting balance.To correct an error on a Loyalty Issue transaction, first perform a VoidIssue transaction with the original Purchase and Points values and then perform another Issue transaction with the correct values.Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 254<?xml version="1.0" ?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <UserTrace>PATRK:1863827850267862052753329225736997</UserTrace>        <POSPackageID>PyTest:2.1</POSPackageID>        <TranCode>EMVIssue</TranCode>        <SecureDevice>CloudEMV2</SecureDevice>        <RefNo>1</RefNo>        <InvoiceNo>1234567890</InvoiceNo>        <SequenceNo>0010010010</SequenceNo>        <Account>            <AcctNo>SecureDevice</AcctNo>        </Account>        <Amount>            <Purchase>5.00</Purchase>        </Amount>        <PartialAuth>Allow</PartialAuth>        <TranType>Loyalty</TranType>        <Format>1</Format>        <Points>100</Points>        <Units>1</Units>        <Price>5.00</Price>        <PromoID>00567</PromoID>        <TranDeviceID>123456789098765432101234</TranDeviceID>    </Transaction></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.TerminalID(String 1-24 chars)For general use: Terminal ID data must be supplied in this tag only if provided by the processor or merchant service provider; otherwise this tag should not be included.For reversal support with selected processors: Use a unique POS workstation number (exactly 3 digits 000-999) for multi-workstation locations. See Processing Transactions for detailsPOSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”). Ex: EMVUSClient:1.26TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return, void, etc)SecureDevice(String 1-40 chars)Required“CloudEMV2” or a specific value as shown in Section 1.4- *RefNo (String 1-50 chars)Use the RefNo value returned in the original transaction responseInvoiceNo(Number 1-8 chars)RequiredInvoice number – sequential receipt number, check number, or other unique transaction identifier.SequenceNo(String 1-20 chars)For reversal support with selected processors: Use ‘00000000’ for first transaction in new installations.For all subsequent transactions: use the SequenceNo value returned in the previous transaction response. See Processing Transactions for details.Account:AcctNo(String 1-19 chars)RequiredTo use the attached SecureDevice for MSR input of cardholder data, use value ‘SecureDevice’To use the PC keyboard or attached SecureDevice for manual input of cardholder data, use value ‘Prompt’Amount:Purchase(Number 1-8 chars)RequiredPurchase price (with 2 decimal places – eg. 29.95).TranType(String 1-20 chars)RequiredUsed with the TranCode to specify payment type.Format(Number 1-1 chars)Required“1”Items:Points(N 1-8 chars)RequiredItem 1 Points valueItems:Units(N 1-8 chars)RequiredItem 1 Units valueItems:Price(N 1-8 chars)RequiredItem 1 Price/amountItems:PromoID(N 1-8 chars)RequiredItem 1 Promotional IDItems:Desc(AN 1-40 chars)Item 1 DescriptionTranDeviceID(String 10-24 chars)The serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Loyalty EMVAddTo add value to an existing loyalty (rewards) card account.To correct an error on a Loyalty Add transaction, first perform a VoidAdd transaction with the original Purchase and Points values and then perform another Add transaction with the correct values.Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 342<?xml version="1.0" ?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <UserTrace>PATRK:1863827850267862052753329225736997</UserTrace>        <POSPackageID>PyTest:2.1</POSPackageID>        <TranCode>EMVAdd</TranCode>        <SecureDevice>CloudEMV2</SecureDevice>        <RefNo>3360222200</RefNo>        <InvoiceNo>3360222200</InvoiceNo>        <SequenceNo>0010018160</SequenceNo>        <Account>            <AcctNo>SecureDevice</AcctNo>        </Account>        <Amount>            <Purchase>5.00</Purchase>        </Amount>        <RecordNo>RecordNumberRequested</RecordNo>        <Frequency>OneTime</Frequency>        <TranDeviceID>123456789098765432101234</TranDeviceID>        <PartialAuth>Allow</PartialAuth>        <TranType>Loyalty</TranType>        <Format>1</Format>        <Points>10</Points>        <Units>1</Units>        <Price>5.00</Price>        <PromoID>00567</PromoID>    </Transaction></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.TerminalID(String 1-24 chars)For general use: Terminal ID data must be supplied in this tag only if provided by the processor or merchant service provider; otherwise this tag should not be included.For reversal support with selected processors: Use a unique POS workstation number (exactly 3 digits 000-999) for multi-workstation locations. See Processing Transactions for detailsPOSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”). Ex: EMVUSClient:1.26TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return, void, etc)SecureDevice(String 1-40 chars)Required“CloudEMV2” or a specific value as shown in Section 1.4- *RefNo (String 1-50 chars)Use the RefNo value returned in the original transaction responseInvoiceNo(Number 1-8 chars)RequiredInvoice number – sequential receipt number, check number, or other unique transaction identifier.SequenceNo(String 1-20 chars)For reversal support with selected processors: Use ‘00000000’ for first transaction in new installations.For all subsequent transactions: use the SequenceNo value returned in the previous transaction response. See Processing Transactions for details.Frequency(String 1-20 chars)Required“OneTime”TranDeviceID(String 10-24 chars)The serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Account:AcctNo(String 1-19 chars)RequiredTo use the attached SecureDevice for MSR input of cardholder data, use value ‘SecureDevice’To use the PC keyboard or attached SecureDevice for manual input of cardholder data, use value ‘Prompt’Amount:Purchase(Number 1-8 chars)RequiredPurchase price (with 2 decimal places – eg. 29.95).TranType(String 1-20 chars)RequiredUsed with the TranCode to specify payment type.Format(Number 1-1 chars)Required“1”Items:Points(N 1-8 chars)RequiredItem 1 Points valueItems:Units(N 1-8 chars)RequiredItem 1 Units valueItems:Price(N 1-8 chars)RequiredItem 1 Price/amountItems:PromoID(N 1-8 chars)RequiredItem 1 Promotional IDItems:Desc(AN 1-40 chars)Item 1 DescriptionLoyalty EMVSubtractTo subtract (remove) value to an existing loyalty (rewards) card account.To correct an error on a Loyalty Subtract transaction, first perform a VoidSubtract transaction with the original Purchase and Points values and then perform another Subtract transaction with the correct values.Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 308<?xml version="1.0" ?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <UserTrace>PATRK:1863827850267862052753329225736997</UserTrace>        <POSPackageID>PyTest:2.1</POSPackageID>        <TranCode>EMVSubtract</TranCode>        <SecureDevice>CloudEMV2</SecureDevice>        <RefNo>3360222202</RefNo>        <InvoiceNo>3360222202</InvoiceNo>        <SequenceNo>0010018160</SequenceNo>        <Account>            <AcctNo>SecureDevice</AcctNo>        </Account>        <Amount>            <Purchase>5.00</Purchase>        </Amount>        <RecordNo>RecordNumberRequested</RecordNo>        <Frequency>OneTime</Frequency>        <TranDeviceID>123456789098765432101234</TranDeviceID>        <PartialAuth>Allow</PartialAuth>        <TranType>Loyalty</TranType>        <Format>1</Format>        <Points>10</Points>        <Units>1</Units>        <Price>5.00</Price>        <PromoID>00567</PromoID>    </Transaction></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.TerminalID(String 1-24 chars)For general use: Terminal ID data must be supplied in this tag only if provided by the processor or merchant service provider; otherwise this tag should not be included.For reversal support with selected processors: Use a unique POS workstation number (exactly 3 digits 000-999) for multi-workstation locations. See Processing Transactions for detailsPOSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”). Ex: EMVUSClient:1.26TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return, void, etc)SecureDevice(String 1-40 chars)Required“CloudEMV2” or a specific value as shown in Section 1.4- *RefNo (String 1-50 chars)Use the RefNo value returned in the original transaction responseInvoiceNo(Number 1-8 chars)RequiredInvoice number – sequential receipt number, check number, or other unique transaction identifier.SequenceNo(String 1-20 chars)For reversal support with selected processors: Use ‘00000000’ for first transaction in new installations.For all subsequent transactions: use the SequenceNo value returned in the previous transaction response. See Processing Transactions for details.Frequency(String 1-20 chars)Required“OneTime”TranDeviceID(String 10-24 chars)The serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Account:AcctNo(String 1-19 chars)RequiredTo use the attached SecureDevice for MSR input of cardholder data, use value ‘SecureDevice’To use the PC keyboard or attached SecureDevice for manual input of cardholder data, use value ‘Prompt’Amount:Purchase(Number 1-8 chars)RequiredPurchase price (with 2 decimal places – eg. 29.95).TranType(String 1-20 chars)RequiredUsed with the TranCode to specify payment type.Format(Number 1-1 chars)Required“1”Items:Points(N 1-8 chars)RequiredItem 1 Points valueItems:Units(N 1-8 chars)RequiredItem 1 Units valueItems:Price(N 1-8 chars)RequiredItem 1 Price/amountItems:PromoID(N 1-8 chars)RequiredItem 1 Promotional IDItems:Desc(AN 1-40 chars)Item 1 DescriptionLoyalty EMVVoidIssueTo Void (cancel) a previously performed Issue transaction.Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 154<?xml version="1.0" ?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <UserTrace>PATRK:1863827850267862052753329225736997</UserTrace>        <POSPackageID>PyTest:2.1</POSPackageID>        <TranCode>EMVVoidIssue</TranCode>        <SecureDevice>CloudEMV2</SecureDevice>        <RefNo>185013960000986698</RefNo>        <InvoiceNo>3360222198</InvoiceNo>        <SequenceNo>0010018160</SequenceNo>        <TranDeviceID>123456789098765432101234</TranDeviceID>        <Amount>            <Purchase>5.00</Purchase>        </Amount>        <AuthCode>000950</AuthCode>        <TranType>Loyalty</TranType>        <Format>1</Format>        <Points>100</Points>        <Units>1</Units>        <Price>5.00</Price>        <PromoID>00567</PromoID>    </Transaction></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.TerminalID(String 1-24 chars)For general use: Terminal ID data must be supplied in this tag only if provided by the processor or merchant service provider; otherwise this tag should not be included.For reversal support with selected processors: Use a unique POS workstation number (exactly 3 digits 000-999) for multi-workstation locations. See Processing Transactions for detailsPOSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”). Ex: EMVUSClient:1.26TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return, void, etc)SecureDevice(String 1-40 chars)Required“CloudEMV2” or a specific value as shown in Section 1.4- *RefNo (String 1-50 chars)Use the RefNo value returned in the original transaction responseInvoiceNo(Number 1-8 chars)RequiredInvoice number – sequential receipt number, check number, or other unique transaction identifier.SequenceNo(String 1-20 chars)For reversal support with selected processors: Use ‘00000000’ for first transaction in new installations.For all subsequent transactions: use the SequenceNo value returned in the previous transaction response. See Processing Transactions for details.TranDeviceID(String 10-24 chars)The serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Account:AcctNo(String 1-19 chars)RequiredTo use the attached SecureDevice for MSR input of cardholder data, use value ‘SecureDevice’To use the PC keyboard or attached SecureDevice for manual input of cardholder data, use value ‘Prompt’Amount:Purchase(Number 1-8 chars)RequiredPurchase price (with 2 decimal places – eg. 29.95).TranType(String 1-20 chars)RequiredUsed with the TranCode to specify payment type.Format(Number 1-1 chars)Required“1”Items:Points(N 1-8 chars)RequiredItem 1 Points valueItems:Units(N 1-8 chars)RequiredItem 1 Units valueItems:Price(N 1-8 chars)RequiredItem 1 Price/amountItems:PromoID(N 1-8 chars)RequiredItem 1 Promotional IDItems:Desc(AN 1-40 chars)Item 1 DescriptionLoyalty EMVVoidAddTo Void (cancel) a previously performed Add transaction.Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 182<?xml version="1.0" ?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <UserTrace>PATRK:1863827850267862052753329225736997</UserTrace>        <POSPackageID>PyTest:2.1</POSPackageID>        <TranCode>EMVVoidAdd</TranCode>        <SecureDevice>CloudEMV2</SecureDevice>        <RefNo>185013960000986714</RefNo>        <InvoiceNo>3360222201</InvoiceNo>        <SequenceNo>0010018160</SequenceNo>        <TranDeviceID>123456789098765432101234</TranDeviceID>        <Amount>            <Purchase>5.00</Purchase>        </Amount>        <AuthCode>000950</AuthCode>        <TranType>Loyalty</TranType>        <Format>1</Format>        <Points>10</Points>        <Units>1</Units>        <Price>5.00</Price>        <PromoID>00567</PromoID>    </Transaction></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.TerminalID(String 1-24 chars)For general use: Terminal ID data must be supplied in this tag only if provided by the processor or merchant service provider; otherwise this tag should not be included.For reversal support with selected processors: Use a unique POS workstation number (exactly 3 digits 000-999) for multi-workstation locations. See Processing Transactions for detailsPOSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”). Ex: EMVUSClient:1.26TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return, void, etc)SecureDevice(String 1-40 chars)Required“CloudEMV2” or a specific value as shown in Section 1.4- PinPadIpAddress (String 7-15 chars)IP (v4) address of PIN pad on local network.RefNo(String 1-50 chars)RequiredUse the RefNo value returned in the original transaction responseInvoiceNo(Number 1-8 chars)RequiredInvoice number – sequential receipt number, check number, or other unique transaction identifier.SequenceNo(String 1-20 chars)For reversal support with selected processors: Use ‘00000000’ for first transaction in new installations.For all subsequent transactions: use the SequenceNo value returned in the previous transaction response. See Processing Transactions for details.TranDeviceID(String 10-24 chars)The serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Account:AcctNo(String 1-19 chars)RequiredTo use the attached SecureDevice for MSR input of cardholder data, use value ‘SecureDevice’To use the PC keyboard or attached SecureDevice for manual input of cardholder data, use value ‘Prompt’Amount:Purchase(Number 1-8 chars)RequiredPurchase price (with 2 decimal places – eg. 29.95).TranType(String 1-20 chars)RequiredUsed with the TranCode to specify payment type.Format(Number 1-1 chars)Required“1”Items:Points(N 1-8 chars)RequiredItem 1 Points valueItems:Units(N 1-8 chars)RequiredItem 1 Units valueItems:Price(N 1-8 chars)RequiredItem 1 Price/amountItems:PromoID(N 1-8 chars)RequiredItem 1 Promotional IDItems:Desc(AN 1-40 chars)Item 1 DescriptionLoyalty EMVVoidSubtractTo Void (cancel) a previously performed Subtract transaction.Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 204<?xml version="1.0" ?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <UserTrace>PATRK:1863827850267862052753329225736997</UserTrace>        <POSPackageID>PyTest:2.1</POSPackageID>        <TranCode>EMVVoidSubtract</TranCode>        <SecureDevice>CloudEMV2</SecureDevice>        <RefNo>185013960000986723</RefNo>        <InvoiceNo>3360222203</InvoiceNo>        <SequenceNo>0010018160</SequenceNo>        <TranDeviceID>123456789098765432101234</TranDeviceID>        <Amount>            <Purchase>5.00</Purchase>        </Amount>        <AuthCode>000950</AuthCode>        <TranType>Loyalty</TranType>        <Format>1</Format>        <Points>10</Points>        <Units>1</Units>        <Price>5.00</Price>        <PromoID>00567</PromoID>    </Transaction></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.TerminalID(String 1-24 chars)For general use: Terminal ID data must be supplied in this tag only if provided by the processor or merchant service provider; otherwise this tag should not be included.For reversal support with selected processors: Use a unique POS workstation number (exactly 3 digits 000-999) for multi-workstation locations. See Processing Transactions for detailsPOSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”). Ex: EMVUSClient:1.26TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return, void, etc)SecureDevice(String 1-40 chars)Required“CloudEMV2” or a specific value as shown in Section 1.4- PinPadIpAddress (String 7-15 chars)IP (v4) address of PIN pad on local network.RefNo(String 1-50 chars)RequiredUse the RefNo value returned in the original transaction responseInvoiceNo(Number 1-8 chars)RequiredInvoice number – sequential receipt number, check number, or other unique transaction identifier.SequenceNo(String 1-20 chars)For reversal support with selected processors: Use ‘00000000’ for first transaction in new installations.For all subsequent transactions: use the SequenceNo value returned in the previous transaction response. See Processing Transactions for details.TranDeviceID(String 10-24 chars)The serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Account:AcctNo(String 1-19 chars)RequiredTo use the attached SecureDevice for MSR input of cardholder data, use value ‘SecureDevice’To use the PC keyboard or attached SecureDevice for manual input of cardholder data, use value ‘Prompt’Amount:Purchase(Number 1-8 chars)RequiredPurchase price (with 2 decimal places – eg. 29.95).TranType(String 1-20 chars)RequiredUsed with the TranCode to specify payment type.Format(Number 1-1 chars)Required“1”Items:Points(N 1-8 chars)RequiredItem 1 Points valueItems:Units(N 1-8 chars)RequiredItem 1 Units valueItems:Price(N 1-8 chars)RequiredItem 1 Price/amountItems:PromoID(N 1-8 chars)RequiredItem 1 Promotional IDItems:Desc(AN 1-40 chars)Item 1 DescriptionLoyalty EMVBalanceTo retrieve balances on Purchase (products) and Points for an existing Loyalty card account.Request? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 212<?xml version="1.0" ?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <UserTrace>PATRK:1863827850267862052753329225736997</UserTrace>        <POSPackageID>PyTest:2.1</POSPackageID>        <TranCode>EMVBalance</TranCode>        <SecureDevice>CloudEMV2</SecureDevice>        <RefNo>3360222199</RefNo>        <InvoiceNo>3360222199</InvoiceNo>        <SequenceNo>0010018160</SequenceNo>        <TranDeviceID>123456789098765432101234</TranDeviceID>        <Account>            <AcctNo>SecureDevice</AcctNo>        </Account>        <Amount>            <Purchase>5.00</Purchase>        </Amount>        <RecordNo>RecordNumberRequested</RecordNo>        <Frequency>OneTime</Frequency>        <PartialAuth>Allow</PartialAuth>        <TranType>Loyalty</TranType>        <Format>1</Format>        <Points>10</Points>        <Units>1</Units>        <Price>5.00</Price>        <PromoID>00567</PromoID>    </Transaction></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.TerminalID(String 1-24 chars)For general use: Terminal ID data must be supplied in this tag only if provided by the processor or merchant service provider; otherwise this tag should not be included.For reversal support with selected processors: Use a unique POS workstation number (exactly 3 digits 000-999) for multi-workstation locations. See Processing Transactions for detailsPOSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”). Ex: EMVUSClient:1.26TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return, void, etc)SecureDevice(String 1-40 chars)Required“CloudEMV2” or a specific value as shown in Section 1.4- PinPadIpAddress (String 7-15 chars)IP (v4) address of PIN pad on local network.RefNo(String 1-50 chars)RequiredUse the RefNo value returned in the original transaction responseInvoiceNo(Number 1-8 chars)RequiredInvoice number – sequential receipt number, check number, or other unique transaction identifier.SequenceNo(String 1-20 chars)For reversal support with selected processors: Use ‘00000000’ for first transaction in new installations.For all subsequent transactions: use the SequenceNo value returned in the previous transaction response. See Processing Transactions for details.TranDeviceID(String 10-24 chars)The serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Account:AcctNo(String 1-19 chars)RequiredTo use the attached SecureDevice for MSR input of cardholder data, use value ‘SecureDevice’To use the PC keyboard or attached SecureDevice for manual input of cardholder data, use value ‘Prompt’Amount:Purchase(Number 1-8 chars)RequiredPurchase price (with 2 decimal places – eg. 29.95).TranType(String 1-20 chars)RequiredUsed with the TranCode to specify payment type.Format(Number 1-1 chars)Required“1”Items:Points(N 1-8 chars)RequiredItem 1 Points valueItems:Units(N 1-8 chars)RequiredItem 1 Units valueItems:Price(N 1-8 chars)RequiredItem 1 Price/amountItems:PromoID(N 1-8 chars)RequiredItem 1 Promotional IDItems:Desc(AN 1-40 chars)Item 1 DescriptionLoyalty GetVASDataTo retrieve the VASData for an Apple Pay transactionRequest? xml?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 124<?xml version="1.0" ?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <POSPackageID>PyTest:2.0</POSPackageID>        <TranCode>GetVASData</TranCode>        <SecureDevice>CloudEMV2</SecureDevice>        <RefNo>2215782092</RefNo>        <InvoiceNo>2215782092</InvoiceNo>        <SequenceNo>0010010010</SequenceNo>        <OperatorID>001</OperatorID>        <VASResponse>Allow</VASResponse>         <TranDeviceID>123456789098765432101234</TranDeviceID>    </Transaction></TStream>?MerchantID(String 1-24 chars)RequiredMerchant identification assigned by processor.POSPackageID(String 1-99 chars)RequiredInclude this tag with POS package name and version where the name and version are separated with a colon (“:”). Ex: EMVUSClient:1.26TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return, void, etc)SecureDevice(String 1-40 chars)Required“CloudEMV2” or a specific value as shown in Section 1.4- PinPadIpAddress (String 7-15 chars)IP (v4) address of PIN pad on local network.RefNo(String 1-50 chars)RequiredUse the RefNo value returned in the original transaction responseInvoiceNo(Number 1-8 chars)RequiredInvoice number – sequential receipt number, check number, or other unique transaction identifier.SequenceNo(String 1-20 chars)For reversal support with selected processors: Use ‘00000000’ for first transaction in new installations.For all subsequent transactions: use the SequenceNo value returned in the previous transaction response. See Processing Transactions for details.OperatorID(String 1-24 chars)Operator (clerk, server, etc.) associated with the transaction.VASResponse(String 1-20 chars)Use “Allow” to get VAS Data in the transaction response.TranDeviceID(String 10-24 chars)The serial number on the device (for Ingenico TETRA pads it is 24 digits). TranDeviceID must be given either in the request body or as an HTTP header. TranDeviceID is required for Server communication.Response? xml?<?xml version="1.0"?><RStream>    <CmdResponse>        <ResponseOrigin>Client</ResponseOrigin>        <DSIXReturnCode>000000</DSIXReturnCode>        <CmdStatus>Success</CmdStatus>        <TextResponse>Success</TextResponse>        <SequenceNo>0010010010</SequenceNo>        <UserTrace>PATRI:1526348586371110569795574655679487</UserTrace>    </CmdResponse>    <TranResponse>        <TranCode>GetVASData</TranCode>    </TranResponse>    <TranCode>GetVASData</TranCode>    <VASResult>Success</VASResult>    <VASCardType>AppleVAS</VASCardType>    <VASId>pass.com.apple.wallet.vas.prodtest</VASId>    <VASData>CD570A9573648144B6B987BDFD8D56187F08A5FEAB97A1AA4148C9DF5908E8659C7C47B40458C412412354A2E2F1C2D46E02627B93F2D15519C658927D6D5AFEEF5DEB7054EA</VASData></RStream>?ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“TranCloud” = generated by tran cloud service“Client” = generated by Tran application“Server” = generated by Datacap server“Processor” = generated by payment processorDSIXReturnCode(Number 6-6 chars)RequiredSix digit return code that identifies the error type. See Section 12 on error codes for possible values.CmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor. For other response codes, See Section 12 on Error Codes for values.SequenceNo(Number 1-20 chars)RequiredThe sequence number returned in all responses to be used on the next request. If the SequenceNo is lost or initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the requestTranCode(String 1-40 chars)RequiredTranCode value supplied in the transaction request.VASResult(String 1-10 chars)When the CmdStatus is “Success”, VASResult is always “Success”. If CmdStatus is “Error”, then the VAS fields will not be returned.VASCardType(String 1-20 chars)VAS Card type used on transaction. Current supported values include: AppleVAS.VASId(String 1-50 chars)ID for VAS transaction.VASData(String 1-255 chars)VAS Data resulting from a successful transaction.Loyalty Response TemplateResponse for EMVIssue, EMVAdd, EMVSubtract, EMVVoidIssue, EMVVoidAdd, EMVVoidSubtract, and EMVBalanceResponse? xml?<?xml version="1.0"?><RStream>    <AcctNo>***************0000</AcctNo>    <AuthCode>000000</AuthCode>    <Authorize>5.00</Authorize>    <Balance>9.50</Balance>    <CaptureStatus>Captured</CaptureStatus>    <CardType>Loyalty</CardType>    <CmdStatus>Approved</CmdStatus>    <DSIXReturnCode>000000</DSIXReturnCode>    <InvoiceNo>1234567890</InvoiceNo>    <Line1>.CLERK ID: 001</Line1>    <Line2>. </Line2>    <Line3>.                  ISSUE                 </Line3>    <Line4>. </Line4>    <Line5>.Loyalty             ***************0000</Line5>    <Line6>.ENTRY METHOD: SWIPED</Line6>    <Line7>. </Line7>    <Line8>.DATE: 10/17/2023  TIME: 12:21:41</Line8>    <Line9>. </Line9>    <Line10>.INVOICE: 1234567890</Line10>    <Line11>.REFERENCE: 123456789098765432</Line11>    <Line12>.AUTH CODE: 000000</Line12>    <Line13>. </Line13>    <Line14>.AMOUNT                       USD$ 5.00</Line14>    <Line15>.                            ==========</Line15>    <Line16>.TOTAL                        USD$ 5.00</Line16>    <Line17>. </Line17>    <Line18>.BALANCE                      USD$ 9.50</Line18>    <Line19>. </Line19>    <Line20>.POINTS BALANCE                    1128</Line20>    <Line21>. </Line21>    <Line22>.          APPROVED - THANK YOU          </Line22>    <PointsBalance>1128</PointsBalance>    <Purchase>5.00</Purchase>    <RefNo>987654321012345678</RefNo>    <ResponseOrigin>Processor</ResponseOrigin>    <SequenceNo>0010010010</SequenceNo>    <TerminalID>00000001</TerminalID>    <TextResponse>APPROVED</TextResponse>    <TranCode>EMVIssue</TranCode>    <UserTrace>PATRK:1863827850267862052753329225736997</UserTrace></RStream>?AcctNo(Number 1-20 chars)RequiredCardholder Account number. Keep original AcctNo information used in Loyalty request.AuthCode(String 1-16 chars)The authorization code returned by the processor for the approved transaction. The AuthCode value should be saved since it is required for VoidSale, Adjust, VoiceAuth and PreAuthCapture transactions.Amount:Authorize(Number 1-8 chars)Authorized amount (with 2 decimal places)Amount:Balance(Number 1-8 chars)Balance amount (with 2 decimal places)CaptureStatus(String 1-16 chars)“Captured” or “NotCaptured”Note:If the CaptureStatus value returned is ‘NotCaptured’ for a check transaction, then the check will not be automatically deposited by ACH and it must be physically deposited in the bank to receive funds.CardType(String 3-24 chars)Card type used on transaction. Values include: AMEX, VISA, M/C, DCLB, DCVR, JCB, Debit, OTHER, UNDETERMINED (returned on tokenized transactions).CmdStatus(String 1-10 chars)RequiredIndicates the outcome of the command:“Success” = command completed successfully“Approved” = transaction approved by payment processor“Declined” = transaction declined by payment processor“Declined Offline” = chip transaction transaction declined offline“Error” = error processing command. Check DSIXReturnCode and TextResponse for additional info on error.DSIXReturnCode(Number 6-6 chars)RequiredSix digit return code which identifies the error type.InvoiceNo(Number 1-8 chars)RequiredUse the InvoiceNo value supplied in the original request.Items:PointsBalance(Number 1-8 chars)RequiredItem Points balanceAmount:Purchase(Number 1-8 chars)RequiredPurchase price (with 2 decimal places)RefNo(String 1-50 chars)RequiredA reference returned by the processor. If no InvoiceNo returned in response, retain original InvoiceNo. The RefNo should be retained as it is necessary for all Void transaction requests.ResponseOrigin(String 1-10 chars)RequiredIndicates the source of the response:“Client” = generated by DSIClientX control“Server” = generated by Datacap server“Processor” = generated by payment processorSequenceNo(Number 1-20 chars)RequiredThe sequence number returned in all responses to be used on the next request. If the SequenceNo is lost or initial deployment of the PIN pad, the ECR/POS should attempt any transaction (using “0010010010” as a SequenceNo value) to re-sync.TerminalID(String 1-24 chars)The terminal ID supplied in the transaction request.TextResponse(String 1-255 chars)RequiredFor Successful responses, this field can contain an optional message from the server or processor. For other response codes, see Errors for possible values.TranCode(String 1-40 chars)RequiredThe type of transaction (eg. sale, return, void, etc)UserTrace(String 0-40 chars)Echo of data supplied by the user system in the request; for use by the user system for internal tracking. May be null if no user system data was supplied in the request