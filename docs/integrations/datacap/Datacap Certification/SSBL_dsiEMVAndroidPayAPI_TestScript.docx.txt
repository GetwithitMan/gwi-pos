Datacap Developer Portal
Datacap’s certification environment
Datacap’s certification environment
Welcome to Datacap’s certification environment. Once your project is completed, you can be confident that your integrated solution is properly vetted so that you can hit the ground running and take advantage of Datacap’s multi-processor offerings. We created this environment to reflect our agnostic approach – one toolkit to cover all use-cases. You will be able to verify every transaction type that we support, ensuring your POS application will work consistently with all of our supported pin pads and payment processing partners.




Below you will find the test credentials necessary for accessing our certification environment. The cert environment includes pre-defined test cases specific to your project. Once complete, we will verify your transaction requests and sign off on the integration.


A few things to get you started!


















Understanding Datacap’s certification process
All integration partners are initially set up in Datacap’s Open Testing Environment. The max purchase limit per transaction is $10.00.




When ready to run through the test script and provide logs for Datacap to review, please follow the process below:
1. Datacap will need to switch your MID from open to cert environment. To switch to certification environment: Email integrationsupport@dcap.com with subject line: “CERT MODE” and provide test MID.
2. Run through test script from start to finish (clean run)
3. Send logs to integrationsupport@dcap.com - provide just the POS payment request and responses for each test case and screen shots where noted.
4. After receiving the certification logs, we will review and provide feedback within 2 business days.
Additional Information:
1. Integrators can run through all forms of testing at their own discretion – no scheduling requirements.
2. Integrators can run through the test cases as many times as they wish, however, we request a clean run from start to finish when submitting the certification logs.
Open Testing
Open testing is available for testing at your own discretion prior to running through the certification test script. All transactions up to $10 are approved with the exception of the following trigger amounts:


Purchase amount
	Case
	$9.00
	Partially approved for 4.00
	$9.01
	Decline
	$9.02
	Error
	















Integration Support Questions
Contact Integration Support with any questions/concerns throughout the process.


Phone: 215-997-8989
Email: integrationsupport@dcap.com






Test Parameters
Merchant IDs
Use the MID below for testing and certification:


* Card Present: SSBLGFRUI0GP
   * Token Key: 75ea6871f4b7431d9b7274fd59a4a42f


* eCommerce: SSBLGFRUI0EP
   * Token Key: beef195f0f244a39ade45f140fff6326
Test Cards
The following cards are provided as part of our integration toolkit. Within the test script, they are designated as VISA, M/C, Prepaid Gift Card EMV EBT, EBT (purple), WEX, or FSA (gray).
 A group of credit cards  AI-generated content may be incorrect. 

Entry Methods
See descriptions below for entry methods described in the script below:


Entry Methods
	Description
	Fallback
	Insert EMV chip card backwards (non-chip side) to trigger fallback to MSR
	Chip
	Insert EMV chip card
	Key
	Manual entry (Bypass CVV and Zip code prompts)
	Swiped
	Swipe card via magstripe
	Contactless
	EMV/NFC contactless
	









Certification Test Script
The following customized test script was generated by the responses you provided from Datacap’s certification intake
form.


Note: If you plan on supporting GetSignature and PrintReceipt be sure to include them as part of your payments requests.


GetDevicesInfo
To determine which SecureDevices are supported in the version of dsiEMVUS® and dsiPDCX® and the device capabilities and characteristics. As Datacap adds new devices, the GetDevicesInfo command will show the new devices.




#
	Transaction
	Notes
	1.0
	GetDevicesInfo 
	Run GetDevicesInfo() method to view all supported devices
	

Note: Using this list of devices; you can populate a list of compatible devices for your dealers.






EMVParamDownload
To download required parameters and security information for an EMV PIN pad.




#
	Transaction
	Notes
	2.0
	EMVParamDownload 
	Perform an EMVParamDownload
	

EMVSale/VoidSaleByRecordNo
Card Present Chip Transactions CVM: Signature, No CVM, Offline PIN, or Online PIN.




#
	Transaction
	Card / AID
	Entry
	Amount
	Expected Response
	3.0
	EMVSale 
	VISA / Credit
	Chip
	$30.00
	Approved
	3.1a
	VoidSaleByRecordNo  
	

	Token
	$30.00
	Approved
	



c For Test Cases 3.2 & 3.3, include screenshots of your software's UI. Display values returned for ResponseOrigin, DSIXReturnCode, CmdStatus and TextResponse.




#
	Transaction
	Card/AID
	Entry
	Amount
	Expected Response
	3.2
	EMVSale 
	VISA / Credit
	Chip
	$31.00
	Declined
	

#
	Transaction
	Card / AID
	Entry
	Amount
	Expected Response
	3.3
	EMVSale 
	VISA / Credit
	Chip
	$32.00
	Error
	





#
	Transaction
	Card / AID
	Entry
	Amount
	Expected Response
	3.4
	EMVSale 
	VISA / Credit
	Chip
	$33.00
	Approved $15.72
	3.5
	EMVSale 
	MC / Credit
	Chip
	$17.28
	Approved $17.28
	



#
	Transaction
	Card / AID
	Entry
	Amount
	Expected Response
	3.6
	EMVSale 
	MC / Credit
	Chip
	$34.00
	Approved $23.16
	3.7a
	VoidSaleByRecordNo  
	

	Token
	$23.16
	Approved $23.16
	3.7b
	EMVVoidSale 
	MC / Credit
	Chip
	$23.16
	Approved $23.16
	



Bypass CVV and Zip Code Prompts to complete the EMVSale in test case #3.8.


#
	Transaction
	Card / AID
	Entry
	Amount
	Expected Response
	3.8
	EMVSale 
	MC / Credit
	Key
	$35.00
	Approved
	

#
	Transaction
	Card / AID
	Entry
	Amount
	Expected Response
	3.9
	EMVSale 
	MC / Debit
	Chip
	$36.00
	Approved
	

#
	Transaction
	Card/AID
	Entry
	Amount
	Expected Response
	3.10
	EMVSale 
	VISA / Credit
	Contactless
	$37.00
	Approved
	

Purchase Card Level II support: Tax = 2.66 and CustomerCode = 53678


#
	Transaction
	Card/AID
	Entry
	Amount
	Expected Response
	3.11
	EMVSale 
	VISA / Credit
	Chip
	$40.66
	Approved
	



EMVReturn/VoidReturnByRecordNo
Return for Chip Card Transactions/ Void of a previously completed EMVReturn.




#
	Transaction
	Card/AID
	Entry
	Amount
	Expected Response
	4.0
	EMVReturn 
	MC/Credit
	Chip
	$40.00
	Approved
	

#
	Transaction
	Card/AID
	Entry
	Amount
	Expected Response
	4.2
	EMVReturn 
	VISA/Credit
	Chip
	$41.00
	Approved
	4.3a
	VoidReturnByRecordNo 
	

	Token
	$41.00
	Approved
	

#
	Transaction
	Card/AID
	Entry
	Amount
	Expected Response
	4.4
	EMVReturn 
	M/C /Debit
	Chip
	$42.00
	Approved
	

EMVPreAuth/PreAuthCaptureByRecordNo
To preauthorize a credit card which must be subsequently captured for settlement.


#
	Transaction
	Card/AID
	Entry
	Amount
	Gratuity
	Expected Response
	6.0
	EMVPreAuth 
	VISA/Credit
	Chip
	$60.00
	

	Approved
	6.1
	VoidSaleByRecordNo 
	

	Token
	$60.00
	

	Approved
	6.2
	EMVPreAuth 
	VISA/Credit
	Chip
	$61.00
	

	Approved
	6.3
	PreAuthCaptureByRecordNo 
	

	Token
	$61.00
	$12.20
	Approved
	6.4
	EMVPreAuth 
	VISA/Credit
	Chip
	$62.00
	

	Approved
	6.5
	PreAuthCaptureByRecordNo 
	

	Token
	$62.00
	

	Approved
	6.6
	VoidSaleByRecordNo 
	

	Token
	$62.00
	

	Approved
	

Best Practice: PreAuthCaptureByRecordNo should be performed at end of business day.
IncrementalAuthByRecordNo/PartialReversalByRecordNo
Required if implementing EMVPreAuth or PreAuthByRecordNo.




#
	Transaction
	Card/AID
	Entry
	Amount
	Increment/ Decrement
	Expected Response
	7.4
	EMVPreAuth 
	VISA/Credit
	Chip
	$50.00
	

	Approved
	7.5
	IncrementalAuthByRecordNo 
	

	Token
	$50.00
	$100.00
	Approved
	7.6
	IncrementalAuthByRecordNo 
	

	Token
	$150.00
	$150.00
	Approved
	7.7
	PartialReversalByRecordNo 
	

	Token
	$300.00
	$120.00
	Approved
	7.8
	PreAuthCaptureByRecordNo 
	

	Token
	$180.00
	

	Approved
	

EMVSale
Used to request a token for transactions #8.1, 8.2, or 8.3 below




#
	Transaction
	Card/AID
	Entry
	Amount
	Expected Response
	8.0
	EMVSale 
	VISA/Credit
	Chip
	$82.00
	Approved
	

Note: If you’ve run this sale to acquire a token, ensure that it’s voided.


SaleByRecordNo
To process a payment using a processor supplied multi-use token.


Use token from test case #8.0 to complete the SaleByRecordNo transaction below


#
	Transaction
	Card/AID
	Entry
	Amount
	Expected Response
	8.1
	SaleByRecordNo 
	

	Token
	$81.00
	Approved
	



ReturnByRecordNo
To process a payment using a processor supplied multi-use token.


Use token from test case #8.0 to complete the ReturnByRecordNo transaction below


#
	Transaction
	Card/AID
	Entry
	Amount
	Expected Response
	8.2
	ReturnByRecordNo 
	

	Token
	$82.00
	Approved
	

PreAuthByRecordNo
To process a payment using a processor supplied multi-use token.


Use token from test case #8.0 to complete the PreAuthByRecordNo transaction below


#
	Transaction
	Card/AID
	Entry
	Amount
	Expected Response
	8.3
	PreAuthByRecordNo 
	

	Token
	$83.00
	Approved
	



StoreandForward
Optionally perform transaction processing in a programmatically controlled offline mode when an internet connection is not available.
Set ForceOffline = Y, MaxTransactions = 100, and OfflineTransactionPurchaseLimit = 300.00 for testing purposes.


#
	Transaction
	Card/AID
	Entry
	Amount
	Gratuity
	Expected Response
	3.0
	EMVSale 
	1/Credit
	Chip
	$30.00
	

	Approved
	3.2
	EMVSale 
	1/Credit
	Chip
	$31.00
	

	Decline
	3.3
	EMVSale 
	1/Credit
	Chip
	$32.00
	

	Error
	3.6
	EMVSale 
	2/Credit
	Chip
	$34.00
	

	Approved
	3.7a
	VoidSaleByRecordNo  
	

	Token
	$23.16
	

	Approved
	6.2
	EMVPreAuth 
	1/Credit
	Chip
	$61.00
	

	Approved
	6.3
	PreAuthCaptureByRecordNo 
	

	Token
	$61.00
	$12.20
	Approved
	7.4
	EMVPreAuth 
	1/Credit
	Chip
	$50.00
	

	Approved
	7.5
	IncrementalAuthByRecordNo 
	

	Token
	$100.00
	

	Approved
	7.6
	IncrementalAuthByRecordNo 
	

	Token
	$150.00
	

	Approved
	7.7
	PartialReversalByRecordNo 
	

	Token
	$120.00
	

	Approved
	7.8
	PreAuthCaptureByRecordNo 
	

	Token
	$180.00
	

	Approved
	7.9
	ForwardAll
	

	

	

	

	

	

eCommerce
eCommerce transactions using Datacap’s Pay API™.
Select one of Datacap’s out of scope Javascript clients to obtain a one-time-use token:
* Datacap Hosted WebToken (iFrame form): https://datacapsystems.github.io/HostedWebToken/
* Datacap WebToken (POS provided form): https://datacapsystems.github.io/WebToken/






Note: Once the POS server has the one-time-use token (OTU Token), it can be used for up to 15 minutes to complete a payment transaction. Using Datacap’s one-time-use tokenization services is key to reducing your point of sale’s SAQ scope.
Note: For test case 15.2 & 15.5, include screenshots of message displayed to cashier/end user


#
	Transaction
	Card
	Entry
	Amount
	Gratuity
	Expected Response
	15.0
	Sale 
	Visa
	OTU Token
	$15.11
	

	Approved
	15.1
	Void Sale 
	

	Datacap Token
	$15.11
	

	Approved
	15.2
	Sale 
	Visa
	OTU Token
	$15.22
	

	Declined
	15.3
	Sale 
	M/C
	OTU Token
	$15.50
	

	Partial Approval $9.75
	15.4
	Void Sale 
	

	Datacap Token
	$9.75
	

	Approved
	15.5
	Sale 
	M/C
	OTU Token
	15.33
	

	Error
	

	

	

	

	

	

	

	15.6
	Return 
	Visa
	OTU Token
	$15.15
	

	Approved
	15.7
	Void Return 
	

	Datacap Token
	$15.15
	

	Approved
	15.8
	Return 
	Visa
	OTU
	$15.21
	

	Approved
	

	

	

	

	

	

	

	16.4
	PreAuth 
	Visa
	OTU Token
	$7.25
	

	Approved
	16.5
	PreAuthCapture 
	

	Datacap Token
	$7.25
	$4.25
	Approved
	

	

	

	

	

	

	

	16.10
	PreAuth 
	Visa
	OTU Token
	$7.50
	

	Approved
	16.11
	PreAuthCapture 
	

	Datacap Token
	$7.50
	

	Approved
	

	

	

	

	

	

	

	17.0
	AuthOnly 
	M/C
	OTU Token
	$0.00
	

	Approved
	

	

	

	

	

	

	

	13.0
	BatchSummary
	

	

	

	

	

	13.1
	BatchClose
	

	

	

	

	

	



Omnichannel
To process card present and card not present transactions with multi-use tokens and reference data.


#
	Transaction
	Card/AID
	Entry
	Amount
	Gratuity
	Expected Response
	18.0
	PreAuth 
	1/Credit
	OTU token
	$10.25
	

	Approved
	

18.1
	

PreAuthCaptureByRecordNo 
	

	Datacap Token
dsiEMVUS®
	

$10.25
	

$1.25
	

Approved
	



18.2
	EMVSale 
	2/Credit
	Chip dsiEMVUS®
	$19.75
	

	Approved
	

18.3
	

Void Sale 
	

	Datacap Token Pay API™
	

$19.75
	

	

Approved
	18.8
	EMVPreAuth 
	1/Credit
	Chip
	10.55
	

	Approved
	18.9
	PreAuthCapture 
	

	Datacap Token
	$10.55
	$1.25
	Approved
	





Batch Commands (BatchSummary and BatchClose)
BatchSummary retrieves current batch summary information (totals and counts by card type). BatchClose closes the currently open batch. Transactions in an open batch will not be paid to the merchant until the batch is closed. A BatchClose should be performed at least daily for most merchants.


#
	Transaction
	13.0
	BatchSummary 
	13.1
	BatchClose 