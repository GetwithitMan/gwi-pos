Cardholder ManagementCardHolderIDThe POS can send the optional <CardHolderID> tag in the payment request to track unique cardholders across their entire merchant base for data aggregation and proactive marketing. The CardHolderID in the response is a unique ID representing the card data. The same card presented multiple times will always return the same CardHolderID.Note: CardHolderID is supported via NETePay Hosted only.Implementation Notes:1. Always send the value “Allow_V2” on transaction requests.In the example below, an EMVSale is used to collect the CardHolderID.Request? xml? json?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 658<?xml version="1.0"?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <OperatorID>TEST</OperatorID>        <POSPackageID>POSNameHere:2.0</POSPackageID>        <SecureDevice>CloudEMV2</SecureDevice>        <UserTrace>Dev1</UserTrace>        <CardType>Credit</CardType>        <TranCode>EMVSale</TranCode>        <ProcessorToken>TokenRequested</ProcessorToken>        <CollectData>CardholderName</CollectData>        <Account>            <AcctNo>Prompt</AcctNo>        </Account>        <InvoiceNo>0003</InvoiceNo>        <RefNo>0003</RefNo>        <ReturnClearExpDate>Allow</ReturnClearExpDate>        <Amount>            <Purchase>6.00</Purchase>            <Gratuity>0.00</Gratuity>            <GratuitySuggestions>10%:1.00,15%:1.50,18%:1.80,20%:2.00</GratuitySuggestions>            <CashBack>0.00</CashBack>            <MaximumCashBack>80.00</MaximumCashBack>            <Tax>0.00</Tax>            <SurchargeWithLookup>0.00</SurchargeWithLookup>        </Amount>        <LaneID>1</LaneID>        <Duplicate>None</Duplicate>        <SequenceNo>0010010010</SequenceNo>        <PartialAuth>Allow</PartialAuth>        <OKAmount>Disallow</OKAmount>        <RecordNo>RecordNumberRequested</RecordNo>        <Frequency>Recurring</Frequency>        <TranInfo>            <CustomerCode>A12345</CustomerCode>        </TranInfo>        <TranDeviceID>123456789098765432101234</TranDeviceID>        <CardHolderID>Allow_V2</CardHolderID>    </Transaction></TStream> ?Response? xml? json?<?xml version="1.0" encoding="UTF-8"?><RStream>    <ResponseOrigin>Processor</ResponseOrigin>    <DSIXReturnCode>000000</DSIXReturnCode>    <CmdStatus>Approved</CmdStatus>    <TextResponse>APPROVED</TextResponse>    <SequenceNo>0010010010</SequenceNo>    <UserTrace>Dev1</UserTrace>    <MerchantID>DEMODCHALGP</MerchantID>    <AcctNo>************0119</AcctNo>    <CardType>Credit</CardType>    <TranCode>EMVSale</TranCode>    <AuthCode>036556</AuthCode>    <CaptureStatus>Captured</CaptureStatus>    <CardHolderID>GdLQCQuz5HIEBgU0yWhguULiqEufC_IXpi2dfxV9rMg</CardHolderID>    <RefNo>00000001</RefNo>    <InvoiceNo>0003</InvoiceNo>    <OperatorID>TEST</OperatorID>    <ExpDateMonth>12</ExpDateMonth>    <ExpDateYear>25</ExpDateYear>    <PayAPI_Id>q-25316D09744F4055A353C76B84A72E89</PayAPI_Id>    <ProcessorToken>HMPRJGUJILNSQHJP|1222</ProcessorToken>    <Purchase>6.00</Purchase>    <Gratuity>0.00</Gratuity>    <SurchargeWithLookup>0.00</SurchargeWithLookup>    <CashBack>0.00</CashBack>    <Tax>0.00</Tax>    <Authorize>6.00</Authorize>    <CardholderName>Test User</CardholderName>    <AcqRefData>T305187511660041CPRL00599905||N|6.00|RN101436…</AcqRefData>    <PostProcess>EMVParamDownloadRequired</PostProcess>    <ProcessData>9F37:46873A4C|9F26:D1948FBB921E62E5…</ProcessData>    <RecordNo>DC4:HDG4bV08i3n1He5G1AU00016</RecordNo>            <EntryMethod>CHIP</EntryMethod>    <Date>07/06/2015</Date>    <Time>10:12:38</Time>    <ApplicationLabel>Visa Credit</ApplicationLabel>    <AID>A0000000031010</AID>    <TVR>8000008000</TVR>    <IAD>06010A03602000</IAD>    <TSI>6800</TSI>    <ARC>00</ARC>    <CVM>SIGN</CVM>    <Line1>.MERCHANT ID: 700000012262</Line1>    <Line3>.CLERK ID: TEST</Line3>    <Line4>.</Line4>    <Line5>.                 SALE                  </Line5>    <Line6>.</Line6>    <Line7>.************0119</Line7>    <Line8>.VISA                 ENTRY METHOD: CHIP</Line8>    <Line9>.DATE: 07/06/2015  TIME: 10:12:38</Line9>    <Line10>.</Line10>    <Line11>.INVOICE: 0003</Line11>    <Line12>.REFERENCE: 00000001</Line12>    <Line13>.AUTH CODE: 036556</Line13>    <Line14>.</Line14>    <Line15>.AMOUNT                       USD$ 6.00</Line15>    <Line16>.                           ==========</Line16>    <Line17>.TOTAL                        USD$ 6.00</Line17>    <Line18>.</Line18>    <Line19>.         APPROVED - THANK YOU          </Line19>    <Line20>.</Line20>    <Line21>.I AGREE TO PAY THE ABOVE TOTAL AMOUNT</Line21>    <Line22>.ACCORDING TO CARD ISSUER AGREEMENT</Line22>    <Line23>.(MERCHANT AGREEMENT IF CREDIT VOUCHER)</Line23>    <Line24>.</Line24>    <Line25>.</Line25>    <Line26>.</Line26>    <Line27>.x_______________________________________</Line27>    <Line28>.         Cardholder Signature          </Line28>    <Line29>.</Line29>    <Line30>.</Line30>    <Line31>.Application Label: Visa Credit</Line31>    <Line32>.AID: A0000000031010</Line32>    <Line33>.TVR: 8000008000</Line33>    <Line34>.IAD: 06010A03602000</Line34>    <Line35>.TSI: 6800</Line35>    <Line36>.ARC: 00</Line36>    <Line37>.CVM: SIGN</Line37></RStream>?Stored Credential On FileThe POS can request a stored Credential on File (COF) for a given payment method, so that payment method doesn’t need to be presented for future COF transactions. This is ideal in situations of recurring payments and installment payments. By using COF, the merchant and POS avoid storing card data for recurring transactions, and maintain compliance with the card brands.Implementation Notes:1. Stored Credential On File is only supported on DC Direct Android.2. Specific to Networks where Datacap supports Card on File.3. Mastercard does not support recurring via Apple Pay and Google Pay.UsageA series of COF transactions begins with an initial transaction where card data is collected and sent to DC Direct. The transaction must include the <RecurringData> field with the value Recurring. In response, DC Direct generates <RecordNo> and <RecurringData> fields that must be supplied on subsequent COF transactions. These fields dictate what COF to use and how to use it.In the example below, an EMVSale is used to collect cardholder data from a PIN pad in order to initiate a recurring COF series of transactions.Request? xml? json?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 329<?xml version="1.0"?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <TranCode>EMVSale</TranCode>        <SecureDevice>CloudEMV2</SecureDevice>        <InvoiceNo>0003</InvoiceNo>        <RefNo>0003</RefNo>        <Amount>            <Purchase>10.00</Purchase>        </Amount>        <RecordNo>RecordNumberRequested</RecordNo>        <Frequency>Recurring</Frequency>        <RecurringData>Recurring</RecurringData>    </Transaction></TStream>?Response? xml? json?<?xml version="1.0" encoding="UTF-8"?><RStream>    <ResponseOrigin>Processor</ResponseOrigin>    <DSIXReturnCode>000000</DSIXReturnCode>    <CmdStatus>Approved</CmdStatus>    <TextResponse>APPROVED</TextResponse>    <MerchantID>DEMODCHALGP</MerchantID>    <AcctNo>XXXXXXXXXXXX0016</AcctNo>    <ExpDate>XXXX</ExpDate>    <CardType>VISA</CardType>    <TranCode>Sale</TranCode>    <AuthCode>92787A</AuthCode>    <CaptureStatus>Captured</CaptureStatus>    <RefNo>026819657522</RefNo>    <InvoiceNo>00297</InvoiceNo>    <Purchase>5.00</Purchase>    <Authorize>5.00</Authorize>    <RecurringData>Recurring|00|000268626410880</RecurringData>    <RecordNo>DC4:57QfVS08EWfbsCW5SCbB0016</RecordNo></RStream>?The POS retains the RecurringData and RecordNo for the next transaction in the series. Whenever it’s time to run that next transaction, the POS sends a SaleByRecordNo using the retained fields.? xml? json?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 342<?xml version="1.0"?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <TranCode>SaleByRecordNo</TranCode>        <SecureDevice>CloudEMV2</SecureDevice>        <InvoiceNo>10002</InvoiceNo>        <RefNo>10002</RefNo>        <Amount>            <Purchase>5.00</Purchase>        </Amount>        <RecordNo>DC4:57QfVS08EWfbsCW5SCbB0016</RecordNo>        <Frequency>Recurring</Frequency>        <RecurringData>Recurring|00|000268626410880</RecurringData>    </Transaction></TStream>?The POS captures the response fields, and uses them for the next COF transaction in the series. This process continues until the COF series is complete.