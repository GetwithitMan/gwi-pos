Payment Fee SuiteDatacap’s Payment Fee Suite enables:? Surcharge With Lookup? Dual/Multi-pricing (cash discounting)? Split fee funding? Convenience Fee / Payment FeeSurcharge With LookupDC Direct supports surcharging to help merchants mitigate processor fees associated with processing credit card transactions. Datacap’s “Surcharge with Lookup” function checks the card’s BIN in real-time to confirm that the card is eligible for surcharge (credit only). Surcharging is legal in most states, but we recommend that you check your merchant’s local and state regulations specific to surcharging prior to implementation. To learn more about surcharging, check Visa’s guidelines surrounding regulated fees.To use Datacap’s Surcharging With Lookup feature, partners must utilize Datacap’s NETePay Hosted platform and incorporate the <SurchargeWithLookup> tag in the sale request of the transaction. If a <SurchargeWithLookup> amount is supplied on a debit transaction, the surcharge amount will not be applied to the total.EMVSale Request including SurchargeWithLookup? xml? json?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 872<?xml version="1.0"?><TStream>    <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <OperatorID>TEST</OperatorID>        <POSPackageID>POSNameHere:2.0</POSPackageID>        <UserTrace>Dev1</UserTrace>        <CardType>Credit</CardType>        <TranCode>EMVSale</TranCode>        <CollectData>CardholderName</CollectData>        <SecureDevice>CloudEMV2</SecureDevice>        <Account>            <AcctNo>Prompt</AcctNo>        </Account>        <InvoiceNo>0003</InvoiceNo>        <RefNo>0003</RefNo>        <ReturnClearExpDate>Allow</ReturnClearExpDate>        <Amount>            <Purchase>6.00</Purchase>            <Gratuity>0.00</Gratuity>            <GratuitySuggestions>10%:1.00,15%:1.50,18%:1.80,20%:2.00</GratuitySuggestions>            <CashBack>0.00</CashBack>            <MaximumCashBack>80.00</MaximumCashBack>            <Tax>0.60</Tax>            <TaxIfSurchargeable>0.62</TaxIfSurchargeable>            <SurchargeWithLookup>0.18</SurchargeWithLookup>        </Amount>        <LaneID>1</LaneID>        <Duplicate>None</Duplicate>        <SequenceNo>0010010010</SequenceNo>        <PartialAuth>Allow</PartialAuth>        <OKAmount>Disallow</OKAmount>        <RecordNo>RecordNumberRequested</RecordNo>        <Frequency>Recurring</Frequency>        <TranInfo>            <CustomerCode>A12345</CustomerCode>        </TranInfo>        <ForceOffline>N</ForceOffline>        <MaxTransactions>0</MaxTransactions>        <OfflineTransactionPurchaseLimit>0.00</OfflineTransactionPurchaseLimit>    </Transaction></TStream> ?EMVSale Response including SurchargeWithLookup? xml? json?<?xml version="1.0"?><RStream>    <ResponseOrigin>Processor</ResponseOrigin>    <DSIXReturnCode>000000</DSIXReturnCode>    <CmdStatus>Approved</CmdStatus>    <TextResponse>APPROVED</TextResponse>    <SequenceNo>0010010010</SequenceNo>    <UserTrace>Dev1</UserTrace>    <MerchantID>DEMODCHALGP</MerchantID>    <AcctNo>************0119</AcctNo>    <CardType>Credit</CardType>    <TranCode>EMVSale</TranCode>    <AuthCode>036556</AuthCode>    <CaptureStatus>Captured</CaptureStatus>    <RefNo>00000001</RefNo>    <InvoiceNo>0003</InvoiceNo>    <OperatorID>TEST</OperatorID>    <ExpDate>XXXX</ExpDate>    <ExpDateMonth>12</ExpDateMonth>    <ExpDateYear>25</ExpDateYear>    <Purchase>6.00</Purchase>    <SurchargeWithLookup>0.18</SurchargeWithLookup>    <Gratuity>0.00</Gratuity>    <CashBack>0.00</CashBack>    <Tax>0.00</Tax>    <TaxIfSurchargeable>0.62</TaxIfSurchargeable>    <Authorize>6.18</Authorize>    <CardholderName>Test User</CardholderName>    <AcqRefData>T305187511660041CPRL00599905||N|6.00|RN101436…</AcqRefData>    <PostProcess>EMVParamDownloadRequired</PostProcess>    <ProcessData>9F37:46873A4C|9F26:D1948FBB921E62E5…</ProcessData>    <RecordNo>DC4:HDG4bV08i3n1He5G1AU00016</RecordNo>            <EntryMethod>CHIP</EntryMethod>    <Date>07/06/2015</Date>    <Time>10:12:38</Time>    <ApplicationLabel>Visa Credit</ApplicationLabel>    <AID>A0000000031010</AID>    <TVR>8000008000</TVR>    <IAD>06010A03602000</IAD>    <TSI>6800</TSI>    <ARC>00</ARC>    <CVM>SIGN</CVM>    <Line1>.CLERK ID: TEST</Line1>    <Line2>.</Line2>    <Line3>.                  SALE                  </Line3>    <Line4>.</Line4>    <Line5>.************0119</Line5>    <Line6>.VISA                 ENTRY METHOD: CHIP</Line6>    <Line7>.DATE: 10/06/2025  TIME: 10:12:38</Line7>    <Line8>.</Line8>    <Line9>.INVOICE: 0003</Line9>    <Line10>.REFERENCE: 00000001</Line10>    <Line11>.AUTH CODE: 036556</Line11>    <Line12>.</Line12>    <Line13>.AMOUNT                       USD$ 6.00</Line13>    <Line14>.                            ==========</Line14>    <Line15>.TOTAL                        USD$ 6.00</Line15>    <Line16>.</Line16>    <Line17>.          APPROVED - THANK YOU          </Line17>    <Line19>.</Line19>    <Line20>.I AGREE TO PAY THE ABOVE TOTAL AMOUNT</Line20>    <Line21>.ACCORDING TO CARD ISSUER AGREEMENT</Line21>    <Line22>.(MERCHANT AGREEMENT IF CREDIT VOUCHER)</Line22>    <Line23>.</Line23>    <Line24>.</Line24>    <Line25>.</Line25>    <Line26>.x_______________________________________</Line26>    <Line27>.          Cardholder Signature          </Line27>    <Line28>.</Line28>    <Line29>.</Line29>    <Line30>.Application Label: Visa Credit</Line30>    <Line31>.AID: A0000000031010</Line31>    <Line32>.TVR: 8000008000</Line32>    <Line33>.IAD: 06010A03602000</Line33>    <Line34>.TSI: 6800</Line34>    <Line35>.ARC: 00</Line35>    <Line36>.CVM: SIGN</Line36></RStream>?EMVSale Receipt Data including SurchargeWithLookup? xml? <Line1>. </Line1>  <Line2>.                  SALE                  </Line2>  <Line3>. </Line3>  <Line4>.VISA                    ************0043</Line4>  <Line5>.ENTRY METHOD: CONTACTLESS               </Line5>  <Line6>.DATE: 06/25/2025  TIME: 05:44:28        </Line6>  <Line7>. </Line7>  <Line8>.INVOICE: 101                            </Line8>  <Line9>.REFERENCE: 0RhaHyzdwMI8ADOs             </Line9>  <Line10>.AUTH CODE: OIQTe09Hf                    </Line10>  <Line11>. </Line11>  <Line12>.AMOUNT                        USD$ 6.00</Line12>  <Line13>.SURCHARGE                           0.18</Line13>  <Line14>.                              ==========</Line14>  <Line15>.TOTAL                         USD$ 6.18</Line15>  <Line16>. </Line16>  <Line17>.          APPROVED - THANK YOU          </Line17>  <Line18>. </Line18>  <Line19>.APPLICATION LABEL: VISA CREDIT          </Line19>  <Line20>.AID: A0000000031010                     </Line20>  <Line21>.TVR: 0000000000                         </Line21>  <Line22>.IAD: 06010A03A00000                     </Line22>  <Line23>.TSI: 0000                               </Line23>?Receipt Example? Cardholder Copy?            MERCHANT NAME                         MERCHANT STREET                        CITY, STATE ZIP                         123-456-7890        SALEVISA                    ************0043ENTRY METHOD: CONTACTLESSDATE: 06/25/2025  TIME: 05:44:28INVOICE: 101REFERENCE: 0RhaHyzdwMI8ADOsAUTH CODE: OIQTe09HfAMOUNT                        USD$ 6.00SURCHARGE                           0.18                              ==========TOTAL                         USD$ 6.18          APPROVED - THANK YOUAPPLICATION LABEL: VISA CREDITAID: A0000000031010TVR: 0000000000IAD: 06010A03A00000TSI: 0000Cardholder Copy?Dual or Multi-PricingBuilding on the “payment type selection” flow implemented using <GetMultipleChoice>, it’s possible for merchants to implement Dual/Multi-Pricing, a more compliant alternative to traditional cash-discounting programs. Dual/Multi-Pricing allows the merchant to display different prices on the payment device based on tender type. Customers can then choose how they would like to pay.View Demo See example below.Sample Request? xml? json?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 312<?xml version="1.0" ?><TStream>  <Transaction>    <MerchantID>DEMODCHALGP</MerchantID>    <POSPackageID>POSName:1.2.3</POSPackageID>    <TranCode>GetMultipleChoice</TranCode>    <SecureDevice>CloudEMV2</SecureDevice>    <SequenceNo>0010010010</SequenceNo>    <Prompt>Please select a method of payment.</Prompt>    <ButtonData>Cash          $30.00,Debit       $31.50,Credit        $32.70,EBT           $30.00</ButtonData>  </Transaction></TStream>?When a selection is made, the form will remain on screen until a new request is sent. A new request transitions the device away from the selection screen. For cash transactions, you wouldn’t follow up immediately with an <EMVSale>. The POS would need to reset the device to the welcome/idle screen using an <EMVPadReset>.EMVPadReset Request? xml? json?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 245<?xml version="1.0"?><TStream>  <Transaction>    <SecureDevice>CloudEMV2</SecureDevice>    <SequenceNo>0010010010</SequenceNo>    <TranCode>EMVPadReset</TranCode>    <POSPackageID>POSName:1.2.3</POSPackageID>    <MerchantID>DEMODCHALGP</MerchantID>  </Transaction></TStream>?Recommended <CardType> EnforcementTo prevent customers from selecting a lower price option when paying with their credit card (i.e. “Debit”), the POS can include the optional <CardType> request field. Values for CardType can be set to “Credit” or “Debit”.In the example below, we’ll include <CardType>Debit</CardType> for a “Debit” selection.Request? xml? json?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 256<?xml version="1.0"?><TStream>  <Transaction>    <Purchase>25.00</Purchase>    <OKAmount>Disallow</OKAmount>    <RecordNo>RecordNumberRequested</RecordNo>    <Tax>0.00</Tax>    <TranCode>EMVSale</TranCode>    <SecureDevice>CloudEMV2</SecureDevice>    <RefNo>1</RefNo>    <POSPackageID>POSName:1.2.3</POSPackageID>    <PartialAuth>Allow</PartialAuth>    <Frequency>Recurring</Frequency>    <MerchantID>DEMODCHALGP</MerchantID>    <SequenceNo>0010010010</SequenceNo>    <InvoiceNo>1</InvoiceNo>    <CardType>Debit</CardType>  </Transaction></TStream>?In this case, the cardholder attempted to use their credit card, which resulted in an error.Response? xml? json?<?xml version="1.0"?><RStream>    <ResponseOrigin>Client</ResponseOrigin>    <DSIXReturnCode>003326</DSIXReturnCode>    <CmdStatus>Error</CmdStatus>    <TextResponse>TRANSACTION NOT COMPLETE - Debit Required and Not Presented.</TextResponse>    <SequenceNo>0010010010</SequenceNo>    <Line1>.</Line1>    <Line2>. SALE </Line2>    <Line3>.</Line3>    <Line4>.VISA ************0043</Line4>    <Line5>.ENTRY METHOD: CHIP</Line5>    <Line6>.DATE: 01/12/2023 TIME: 11:08:26</Line6>    <Line7>.</Line7>    <Line8>.INVOICE: 1</Line8>    <Line9>.</Line9>    <Line10>.AMOUNT USD$ 25.00</Line10>    <Line11>. ==========</Line11>    <Line12>.TOTAL USD$ 25.00</Line12>    <Line13>.</Line13>    <Line14>. TRANSACTION NOT COMPLETED </Line14>    <Line15>.</Line15>    <Line16>.APP LABEL: Visa Credit</Line16>    <Line17>.AID: A0000000031010</Line17>    <Line18>.TVR: 0000008000</Line18>    <Line19>.IAD: 06010A03A0A006</Line19>    <Line20>.TSI: E800</Line20>    <Line21>.CVM: SIGN</Line21></RStream>?EMVSale Receipt Data after Dual/Multi prompt w Debit Enforcement? xml?<Line1>. </Line1>    <Line2>. SALE </Line2>    <Line3>. </Line3>    <Line4>.DEBIT ***************0051</Line4>    <Line5>.ENTRY METHOD: CHIP </Line5>    <Line6>.DATE: 06/25/2025 TIME: 06:15:37 </Line6>    <Line7>. </Line7>    <Line8>.INVOICE: 101 </Line8>    <Line9>.REFERENCE: G3kyFX34lh87TC9xq1 </Line9>    <Line10>.AUTH CODE: P7i6KjG1D </Line10>    <Line11>. </Line11>    <Line12>.AMOUNT USD$ 31.50</Line12>    <Line13>. ==========</Line13>    <Line14>.TOTAL USD$ 31.50</Line14>    <Line15>. </Line15>    <Line16>. APPROVED - THANK YOU </Line16>    <Line17>. </Line17>    <Line18>.APPLICATION LABEL: US DEBIT </Line18>    <Line19>.AID: A0000000042203 </Line19>    <Line20>.TVR: 8000048000 </Line20>    <Line21>.IAD: 0110A00009220000000000000000000000F</Line21>    <Line22>.TSI: 6800 </Line22>?Receipt Example? Cardholder Copy?            MERCHANT NAME                         MERCHANT STREET                        CITY, STATE ZIP                         123-456-7890       SALEDEBIT ***************0051ENTRY METHOD: CHIPDATE: 06/25/2025 TIME: 06:15:37INVOICE: 101REFERENCE: G3kyFX34lh87TC9xq1AUTH CODE: P7i6KjG1DAMOUNT                         USD$ 31.50                               ==========TOTAL                          USD$ 31.50           APPROVED - THANK YOUAPPLICATION LABEL: US DEBITAID: A0000000042203TVR: 8000048000IAD: 0110A00009220000000000000000000000FTSI: 6800Cardholder Copy?Split Fee FundingDC Direct has the ability to process an EMV sale with split fee funding using the EMVSaleWithSplit tran code. This transaction is expected to be used in the government space or similar verticals where a cardholder pays a utility bill in person and is also charged a separate fee to a separate service organization. Split Fee Funding provides a way to process a normal EMV Sale transaction along with a separate, second transaction for a “split fee” amount. Request fields specific to split fee funding include <SplitMerchantID1>, <SplitFee1> and <CustomAmountFormat>. The <SplitMerchantID1> is the Hosted Merchant ID value that should be used to process the split fee payment. <SplitFee1> is the amount of the split fee payment. <CustomAmountFormat> is a field that contains a display message to be shown to the cardholder on a device (PAX PIN pads today) showing the amount of the EMVSale and the amount of the split fee. There is currently no print data produced for the secondary “split” transaction. The primary transaction is processed as an EMV card present transaction with the card data collected from the cardholder. The secondary transaction is processed as a manual ecomm transaction using encrypted card data. It is recommended that <SplitMerchantID1> is boarded as an ecommerce processing account to ensure the highest rate of success for the transaction. Note that both transactions have to complete successfully in order for the transaction to succeed. For example, if the primary transaction is declined or errored the split fee is never processed and a decline or error is returned to the POS. If the primary transaction is Approved and the split fee is declined or errored then the primary transaction is voided and a decline is returned to the POS. This ensures that integrators that utilize split payment ensure the split fee is always funded with each payment attempt. See EMVSaleWithSplit for request/response examples.View Demo Note: Split fee funding requires use of the NETePay Hosted platform.Convenience Fee or Payment FeeDC Direct supports a “Payment Fee” field that allows merchants to add a “non-cash adjustment” as part of an electronic payment.To use Datacap’s Payment Fee adjustment, the <PaymentFee> tag must be added to the <Amount> tag. ISV’s can also supply the description of the fee by providing the <PaymentFeeDescription> tag. If the description is not provided, then “PAYMENT FEE” will be used as the description for the fee on the receipt.EMVSale Request including Payment Fee? xml? json?POST /ProcessEMVTransaction/ HTTP/1.1Host: 192.168.1.232:8080Content-Type: application/xmlContent-Length: 452<?xml version="1.0"?><TStream>     <Transaction>        <MerchantID>DEMODCHALGP</MerchantID>        <UserTrace>Test</UserTrace>        <POSPackageID>POSNameHere:2.0</POSPackageID>        <TranCode>EMVSale</TranCode>        <SecureDevice>CloudEMV2</SecureDevice>        <InvoiceNo>100034</InvoiceNo>        <RefNo>100034</RefNo>        <Amount>            <Purchase>21.50</Purchase>            <PaymentFee>1.50</PaymentFee>        </Amount>        <SequenceNo>0010010280</SequenceNo>        <PartialAuth>Allow</PartialAuth>        <PaymentFeeDescription>NON-CASH ADJ</PaymentFeeDescription>        <TranDeviceID>123456789</TranDeviceID>     </Transaction></TStream>?EMVSale Response including Payment Fee? xml? json?<?xml version="1.0"?><RStream>    <ResponseOrigin>Processor</ResponseOrigin>    <DSIXReturnCode>000000</DSIXReturnCode>    <CmdStatus>Approved</CmdStatus>    <TextResponse>APPROVAL</TextResponse>    <SequenceNo>0010010280</SequenceNo>    <UserTrace>Test</UserTrace>    <MerchantID>DEMODCHALGP</MerchantID>    <AcctNo>************0011</AcctNo>    <CardType>M/C</CardType>    <TranCode>EMVSale</TranCode>    <AuthCode>VTLMC1</AuthCode>    <CaptureStatus>Captured</CaptureStatus>    <RefNo>210318901483</RefNo>    <InvoiceNo>100034</InvoiceNo>    <Purchase>21.50</Purchase>    <Authorize>21.50</Authorize>    <AcqRefData>2150|1810053|10|041322|125200|01B54H10114C0|M/C|VTLMC1|2150</AcqRefData>    <RecordNo>DC4:AAAKPbapiVvToYhMl131fd35AQ0p-_wbAl-72B7eAuPTxy1eIRG56kF1CT9iB-xtnuQguxTS2IkfQjWRuJWdIP-uYexifArpUglXXL5wN1iX77UySem5vIlPYQF7Lr-_12sS3-OiqC2oL00mgzJuX7AzvPDqaYl146nwgA8fCFtCiw</RecordNo>    <EntryMethod>MAG STRIPE/SWIPED</EntryMethod>    <Date>04/13/2022</Date>    <Time>14:52:03</Time>    <PayAPI_Id>q-9AA95DA062D04F9DA32ED149BBD96F7B</PayAPI_Id>    <Line1>.</Line1>    <Line2>. CREDIT CARD </Line2>    <Line3>. SALE </Line3>    <Line4>.</Line4>    <Line5>.MASTERCARD ************0011</Line5>    <Line6>.ENTRY LEGEND/MODE: MAG STRIPE/SWIPED</Line6>    <Line7>.DATE: 04/13/2022 TIME: 14:52:03</Line7>    <Line8>.</Line8>    <Line9>.INVOICE: 100034</Line9>    <Line10>.REFERENCE: 210318901483</Line10>    <Line11>.AUTH CODE: VTLMC1</Line11>    <Line12>.</Line12>    <Line13>.AMOUNT USD$ 20.00</Line13>    <Line14>.NON-CASH ADJ USD$ 1.50</Line14>    <Line15>. ==========</Line15>    <Line16>.TOTAL USD$ 21.50</Line16>    <Line17>.</Line17>    <Line18>. APPROVED - THANK YOU </Line18>    <Line19>.</Line19>    <Line20>.I AGREE TO PAY THE ABOVE TOTAL AMOUNT</Line20>    <Line21>.ACCORDING TO CARD ISSUER AGREEMENT</Line21>    <Line22>.(MERCHANT AGREEMENT IF CREDIT VOUCHER)</Line22>    <Line23>.</Line23>    <Line24>.</Line24>    <Line25>.</Line25>    <Line26>.x_______________________________________</Line26>    <Line27>. Cardholder Signature </Line27>    <Line28>.</Line28></RStream>?